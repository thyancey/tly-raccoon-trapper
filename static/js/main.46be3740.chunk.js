(this["webpackJsonptly-raccoon-trapper"]=this["webpackJsonptly-raccoon-trapper"]||[]).push([[0],[,,,,,function(e,t,a){"use strict";a.d(t,"b",(function(){return r}));var n,i=a(3),s=a(4);t.a=Object(s.a)(n||(n=Object(i.a)(["\n  *{\n    margin: 0;\n    padding: 0;\n    outline:0;\n    box-sizing:border-box;\n  }\n  #root{\n    margin:0 auto;\n  }\n  h1, h2, h3, h4{\n    font-family: 'Ranchers', cursive;\n  }\n  a, p, span, h5, h6{\n    font-family: 'Cabin', sans-serif;\n  }\n  h1{\n    font-size: 5rem;\n  }\n  h2{\n    font-size: 4rem;\n  }\n  h3{\n    font-size: 3.5rem;\n  }\n  h4{\n    font-size: 2.5rem;\n  }\n  h5{\n    font-size: 2rem;\n  }\n  p, span{\n    font-size:2rem;\n  }\n\n  html{\n    font-size: 62.5%;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-family: 'Cabin', sans-serif;\n    background-color: black;\n  }\n  \n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\n  }\n"])));var r=function(e){return c.colors[e]},c={colors:{black:"#000000",white:"#FFFFFF",grey:"#847E87",grey_light:"#9BADB7",grey_dark:"#222034",pink:"#D77BBA",brown:"#915539",brown_light:"#D8A065",brown_dark:"#663A31",tan:"#EEC39A",red:"#AE3232",green:"#6BBE30",green_light:"#99E54F"},shadows:{z1:"-0.1rem 0.1rem .25rem .1rem rgba(0,0,0,0.16)",z2:"-0.1rem 0.1rem .25rem .1rem rgba(0,0,0,0.36)",z3:"-.2rem .5rem 1rem .2rem rgba(0,0,0,.36)"},breakpoints:{mobile_tiny:"300px",mobile_medium:"400px",mobile_large:"500px",tablet:"768px",desktop:"1024px"}}},,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s}));var n=a(27),i=function(){return Object(n.b)()},s=n.c},,function(e,t,a){"use strict";a.d(t,"e",(function(){return c})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return l}));var n=a(22),i={bowls:-.25,hugs:5,bites:-10,captures:10,escapes:-5},s=Object(n.c)({name:"stats",initialState:{bowls:0,hugs:0,bites:0,total:0,captures:0,escapes:0,score:0,activeEnemies:0},reducers:{setStat:function(e,t){var a,n,i=null===(a=t.payload)||void 0===a?void 0:a.key;void 0!==e[i]?e[i]=null===(n=t.payload)||void 0===n?void 0:n.value:console.error("invalid stat called in reducer:",t.payload.key);e.score=r(e)}}}),r=function(e){var t=0;return Object.keys(e).forEach((function(a){i[a]&&(t+=e[a]*i[a])})),t},c=s.actions.setStat,o=function(e){return Object.keys(e.stats).map((function(t){return{key:t,value:e.stats[t]}})).filter((function(e){return void 0!==i[e.key]}))},u=function(e){return e.stats.score},l=function(e){return e.stats.activeEnemies};t.a=s.reducer},function(e,t,a){"use strict";a.d(t,"b",(function(){return i}));var n={zindex:{BACKGROUND:0,LANE_1:10,LANE_2:20,LANE_3:30,LANE_4:40,FOREGROUND:50}},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{var a=n.zindex["LANE_".concat(e+1)]+t;if(!isNaN(a))return a}catch(i){}return 0};t.a=n},function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return l}));var n=a(16),i=a(17),s=a(7),r=a(19),c=a(18),o=a(6),u=a.n(o),l={ROAMING:0,EATING:1,ROAMING_TAME:3,DEAD:4,HUGGING:5,IDLE:6,ROAMING_ANGRY:11,CAPTURED:12,ESCAPED:13},h="raccoon",d={LIL_PUNT:{min:{x:-75,y:-50},max:{x:-200,y:-200},diff:{x:0,y:0}},BIG_PUNT:{min:{x:-500,y:-300},max:{x:-700,y:-500},diff:{x:0,y:0}}};d.LIL_PUNT.diff={x:d.LIL_PUNT.max.x-d.LIL_PUNT.min.x,y:d.LIL_PUNT.max.y-d.LIL_PUNT.min.y},d.BIG_PUNT.diff={x:d.BIG_PUNT.max.x-d.BIG_PUNT.min.x,y:d.BIG_PUNT.max.y-d.BIG_PUNT.min.y};var f={Entity:function(t){Object(r.a)(o,t);var a=Object(c.a)(o);function o(e,t,i){var r,c,u,h,d;return Object(n.a)(this,o),(d=a.call(this,e,i.x,i.y,"raccoon")).stats=i.stats||{},d.status=null,d.isFull=!1,d.eatOffset=11,d.curPhysState=null,d.curAnimState=null,d.puntKillThreshold=1,((null===(r=i.misc)||void 0===r?void 0:r.puntKillThreshold)||0===(null===(c=i.misc)||void 0===c?void 0:c.puntKillThreshold))&&(d.puntKillThreshold=i.misc.puntKillThreshold),d.feedable=!0,!1===(null===(u=i.misc)||void 0===u?void 0:u.feedable)&&(d.feedable=!1),isNaN(i.depth)||d.setDepth(i.depth),e.add.existing(Object(s.a)(d)),t?t.add(Object(s.a)(d)):e.physics.add.existing(Object(s.a)(d)),d.setBounce(0),d.setCollideWorldBounds(!1),d.allowGravity=!1,d.body.setSize(30,20),d.body.offset.x=15,d.body.offset.y=25,d.setStatus(l.ROAMING,!0),d.setInteractive(),(null===(h=i.misc)||void 0===h?void 0:h.tint)&&d.setTint(i.misc.tint),d.on("pointerdown",(function(e){d.kill()})),d}return Object(i.a)(o,[{key:"canEat",value:function(){if(!this.isAlive()||!this.feedable||this.isFull)return!1;switch(this.status){case l.EATING:return!1;default:return!0}}},{key:"canIdle",value:function(){if(!this.isAlive()||!this.body.touching.down||0!==this.body.velocity.x)return!1;switch(this.status){case l.ROAMING:case l.IDLE:return!0;default:return!1}}},{key:"punt",value:function(e){var t;return this.body.setDrag(0),t=e<.5?d.LIL_PUNT:d.BIG_PUNT,this.setVelocity(t.min.x+t.diff.x*e,t.min.y+t.diff.y*e),e>=this.puntKillThreshold&&(this.kill(),!0)}},{key:"kill",value:function(){var t=this;this.setStatus(l.DEAD),e.setTimeout((function(){t.destroy()}),5e3)}},{key:"update",value:function(){this.isAlive()&&this.flipX?this.body.velocity.x>=0&&(this.flipX=!1):this.body.velocity.x<0&&(this.flipX=!0);var e=this.getAnimationForState();e!==this.curAnim&&(this.curAnim=e,this.playAnimationForKey(e)),this.adjustMovementForState()}},{key:"isAlive",value:function(){return this.status!==l.DEAD}},{key:"isMovingStatus",value:function(e){switch(e||this.status){case l.ROAMING:case l.ROAMING_ANGRY:case l.ROAMING_TAME:return!0}return!1}},{key:"adjustMovementForState",value:function(){this.body.velocity.x<1&&this.body.velocity.x>-1&&this.isMovingStatus(this.status)&&this.setStatus(this.status,!0),this.body.touching.down&&this.body.velocity.x<0&&this.moveStop()}},{key:"getAnimationForState",value:function(){return this.status===l.DEAD?"raccoon_dead":this.body.velocity.y<-50?"raccoon_hop_up":this.body.velocity.y>50?"raccoon_hop_down":this.status===l.EATING?"raccoon_eat":this.status===l.ROAMING_TAME?"raccoon_loveWalk":this.status===l.ROAMING_ANGRY?"raccoon_angryWalk":this.status===l.ROAMING?"raccoon_walk":null}},{key:"setPhysState",value:function(){}},{key:"throttledUpdate",value:function(){}},{key:"eatAtBowl",value:function(e){this.body.x=e.x-this.eatOffset,this.setStatus(l.EATING)}},{key:"bowlEmpty",value:function(){this.isAlive()&&(this.isFull=!0,this.setStatus(l.ROAMING_TAME))}},{key:"playAnimationForKey",value:function(e){e&&this.anims.play(e)}},{key:"checkStatus",value:function(e){return this.status===e}},{key:"moveNormal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.body.setDrag(0),this.body.velocity.x=this.stats.speed*e}},{key:"moveStop",value:function(){this.body.setDrag(500)}},{key:"setStatus",value:function(e,t){if(t||this.status!==e)switch(this.status=e,this.status){case l.ROAMING:this.moveNormal();break;case l.ROAMING_TAME:this.moveNormal(3);break;case l.EATING:case l.DEAD:case l.HUGGING:case l.CAPTURED:this.moveStop()}}},{key:"resumeStatus",value:function(){var e=this.resumeStatus;this.setStatus(e)}},{key:"escaped",value:function(){this.setStatus(l.ESCAPED),this.delayedDestroy()}},{key:"captured",value:function(){this.setStatus(l.CAPTURED),this.delayedDestroy()}},{key:"hug",value:function(){this.setStatus(l.HUGGING),this.delayedDestroy()}},{key:"delayedDestroy",value:function(){var t=this;e.setTimeout((function(){t.destroy()}),1e3)}}]),o}(u.a.Physics.Arcade.Sprite),initSprites:function(e){e.anims.create({key:"raccoon_idle",frames:[{key:h,frame:0},{key:h,frame:1}],frameRate:7,repeat:-1}),e.anims.create({key:"raccoon_walk",frames:[{key:h,frame:2},{key:h,frame:3}],frameRate:7,repeat:-1}),e.anims.create({key:"raccoon_hop_start",frames:[{key:h,frame:4}],frameRate:7,repeat:0}),e.anims.create({key:"raccoon_hop_up",frames:[{key:h,frame:5}],frameRate:7,repeat:0}),e.anims.create({key:"raccoon_hop_down",frames:[{key:h,frame:6}],frameRate:7,repeat:0}),e.anims.create({key:"raccoon_hop_end",frames:[{key:h,frame:7}],frameRate:7,repeat:0}),e.anims.create({key:"raccoon_angryWalk",frames:e.anims.generateFrameNumbers(h,{start:2,end:3}),frameRate:7,repeat:-1}),e.anims.create({key:"raccoon_loveWalk",frames:e.anims.generateFrameNumbers(h,{start:10,end:11}),frameRate:7,repeat:-1}),e.anims.create({key:"raccoon_dead",frames:e.anims.generateFrameNumbers(h,{start:14,end:15}),frameRate:7,repeat:-1}),e.anims.create({key:"raccoon_eat",frames:e.anims.generateFrameNumbers(h,{start:8,end:9}),frameRate:7,repeat:-1}),e.anims.create({key:"raccoon_hug",frames:e.anims.generateFrameNumbers(h,{start:12,end:13}),frameRate:7,repeat:-1}),e.anims.create({key:"raccoon_punted",frames:e.anims.generateFrameNumbers(h,{start:2,end:3}),frameRate:7,repeat:-1})},initSpritesheet:function(e){e.load.spritesheet("raccoon","./assets/raccoon.png",{frameWidth:56,frameHeight:56})}};t.b=f}).call(this,a(23))},,,,,function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return _}));var n,i,s=a(6),r=a.n(s),c=a(15),o=a(21),u=a(28),l=a(14),h=a(45),d=a(26),f=0,m=null,p=0,y=[],b={},v=[],g=[],k={},O={raccoon:c.b.Entity},j=function(e){var t=function(e){var t=[];return e.forEach((function(e,a){e.forEach((function(e){Math.random()<e.rate&&t.push({type:e.type,laneIdx:a})}))})),t}(e),a=0;return t.forEach((function(e){var t=v[e.type];O[t.type]?(w(O[t.type],t,e.laneIdx),a++):console.error("unknown entity type:",t.type)})),a},x=Object(h.a)(150,!1,(function(){var t,a;e.gameActive&&(S(),null===(t=k.enemies.children)||void 0===t||t.each((function(e){e.throttledUpdate()})),null===(a=k.player.children)||void 0===a||a.each((function(e){e.throttledUpdate()})))})),w=function(e,t,a){var n,s=y[a],c=(n=t.stats,{speed:r.a.Math.Between(n.speed[0],n.speed[1]),jumpRate:r.a.Math.Between(n.jumpRate[0],n.jumpRate[1])}),o=new e(i,k.enemies,{x:s.x,y:s.y,stats:c,depth:Object(l.b)(a),misc:t.misc}),u=r.a.Math.Between(t.scaleRange[0],t.scaleRange[1])/100;o.setScale(u)},A=function(e){n=new o.b.Entity(i,800,300,k.player,e)},S=function(){var e=k.enemies.countActive();f!==e&&(f=e,d.a.emit("interface","setStat",{key:"activeEnemies",value:e}))},_=function(e){m=function(e){var t=Math.log(1e3),a=(Math.log(1)-t)/100;return Math.round(Math.exp(t+a*(e-0)))}(e)},I={setContext:function(e){i=e},preload:function(){c.b.initSpritesheet(i),o.b.initSpritesheet(i),u.a.initSpritesheet(i)},create:function(e,t,a){return y=a.lanes.map((function(e){return{x:parseInt(e.x),y:parseInt(e.y)-50}})),b=e.misc,v=e.enemies,g=t.lanes.map((function(e){return e.spawns})),k.enemies=i.physics.add.group(),k.bowls=i.physics.add.group(),k.player=i.physics.add.staticGroup(),o.b.initSprites(i),u.a.initSprites(i),c.b.initSprites(i),A(a.lanes),k},update:function(){k.enemies.children.each((function(e){e.update()})),k.player.children.each((function(e){e.update()})),1e3!==m&&(p>m?(p=0,j(g)):p++),x()},spawn:function(e,t,a,n,i){var s=k[e].create(n,i,t);return s.anims.play(a),s},spawnBowl:function(e,t){new u.a.Entity(i,k.bowls,{x:e,y:t}).setVelocity(b.bowl.spawnSpeed,20)},slingBowl:function(){new u.a.Entity(i,k.bowls,{x:n.x+20,y:n.y+90,depth:Object(l.b)(n.laneIdx,1)}).setVelocity(b.bowl.spawnSpeed,-100)},external_setSpawnFrequency:_};t.a=I}).call(this,a(23))},function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return p}));var n,i,s=a(16),r=a(17),c=a(7),o=a(19),u=a(18),l=a(10),h=a(6),d=a.n(h),f=a(14),m=a(33),p={IDLE:0,FEED:1,HUGGING:2,KICK_PREP:3,KICK:4,ATTACKED:5,DEAD:6},y=(n={},Object(l.a)(n,p.IDLE,"player_idle"),Object(l.a)(n,p.FEED,"player_idle"),Object(l.a)(n,p.HUGGING,"player_hug"),Object(l.a)(n,p.KICK_PREP,"player_kick_prep"),Object(l.a)(n,p.KICK,"player_kick"),Object(l.a)(n,p.ATTACKED,"player_hurt"),Object(l.a)(n,p.DEAD,"player_idle"),n),b={},v={Entity:function(t){Object(o.a)(n,t);var a=Object(u.a)(n);function n(e,t,r,o,u){var l;return Object(s.a)(this,n),(l=a.call(this,e,t,r,"player")).hpRange=[0,100],l.hp=l.hpRange[1],l.laneIdx=0,l.laneValues=l.parseLaneData(u),l.posOffset=[],l.spriteOffset=[],l.lastIntent=null,l.isAlive=!0,l.kickCharge=0,e.add.existing(Object(c.a)(l)),o?o.add(Object(c.a)(l)):e.physics.add.existing(Object(c.a)(l)),l.setOrigin(0,0).refreshBody(),l.body.setSize(60,100),l.posOffset=[-80,4],l.spriteOffset=[12,6],l.setScale(1.3),l.updatePlayerPosition(),l.setStatus(p.IDLE,!0),b.cursors=e.input.keyboard.createCursorKeys(),i=new m.a.Entity(e,150,150),l.changeLane(2),l}return Object(r.a)(n,[{key:"setLaneDepth",value:function(){this.setDepth(Object(f.b)(this.laneIdx)-1)}},{key:"parseLaneData",value:function(e){return e.map((function(e){return{x:parseInt(e.x)+parseInt(e.width)-10,y:parseInt(e.y)-110}}))}},{key:"changeLane",value:function(e){this.laneIdx+=e;var t=this.laneValues.length-1;this.laneIdx>t?this.laneIdx=0:this.laneIdx<0&&(this.laneIdx=t),this.updatePlayerPosition()}},{key:"updatePlayerPosition",value:function(){var e=this.laneValues[this.laneIdx],t={x:e.x+this.posOffset[0],y:e.y+this.posOffset[1]};this.body.x=t.x+this.spriteOffset[0],this.body.y=t.y+this.spriteOffset[1],this.setPosition(t.x,t.y),i&&i.setOffsetPosition(t.x,t.y),this.status===p.KICK&&this.cancelKick(),this.setLaneDepth()}},{key:"startRecoveryTimer",value:function(e,t){var a=this;this.killRecoveryTimer(),this.recoveryTimer=window.setTimeout((function(){a.recoveryTimer=null,e()}),t)}},{key:"killRecoveryTimer",value:function(){this.recoveryTimer,window.clearTimeout(this.recoveryTimer),this.recoveryTimer=null}},{key:"checkStatus",value:function(e){return this.status===e}},{key:"checkStatuses",value:function(e){return e.indexOf(this.status)>-1}},{key:"onAttackedByEnemy",value:function(e){var t=this;this.setStatus(p.ATTACKED),this.startRecoveryTimer((function(){t.setStatus(p.IDLE)}),1e3)}},{key:"kill",value:function(){var t=this;this.setStatus(p.DEAD),e.setTimeout((function(){t.destroy()}),5e3)}},{key:"chargeKick",value:function(){this.kickCharge+=.1,this.kickCharge>1&&(this.kickCharge=1),i.setProgress(this.kickCharge)}},{key:"startKick",value:function(){this.checkStatuses([p.KICK,p.KICK_PREP])||this.setStatus(p.KICK_PREP)}},{key:"getModifiedKickCharge",value:function(){return.3+.7*this.kickCharge}},{key:"kick",value:function(){var e=this;this.setStatus(p.KICK),this.startRecoveryTimer((function(){e.cancelKick()}),500*this.getModifiedKickCharge())}},{key:"cancelKick",value:function(){this.killRecoveryTimer(),this.kickCharge=0,i.setProgress(this.kickCharge),this.setStatus(p.IDLE)}},{key:"getKickStrength",value:function(){return this.getModifiedKickCharge()}},{key:"startHug",value:function(){this.checkStatus(p.HUGGING)||this.setStatus(p.HUGGING)}},{key:"cancelHug",value:function(){this.checkStatus(p.HUGGING)&&this.setStatus(p.IDLE)}},{key:"onHugEnemy",value:function(e){}},{key:"update",value:function(){var e=this.getIntentFromStateAndKeys();if(e!==this.lastIntent)switch(this.lastIntent=e,e){case"attacked":break;case"moveUp":this.changeLane(-1);break;case"moveDown":this.changeLane(1);break;case"startKick":this.startKick();break;case"releaseKick":this.kick();break;case"startHug":this.startHug();break;case"cancelHug":this.cancelHug()}}},{key:"getIntentFromStateAndKeys",value:function(){if(this.isAlive){if(this.checkStatus(p.ATTACKED))return"attacked";if(b.cursors.up.isDown)return"moveUp";if(b.cursors.down.isDown)return"moveDown";if(this.checkStatus(p.KICK_PREP)){if(!b.cursors.right.isDown)return"releaseKick"}else if(b.cursors.right.isDown)return"startKick";if(this.checkStatus(p.HUGGING)){if(!b.cursors.left.isDown)return"cancelHug"}else if(b.cursors.left.isDown)return"startHug"}return null}},{key:"throttledUpdate",value:function(){this.checkStatus(p.KICK_PREP)&&this.chargeKick()}},{key:"playAnimationForStatus",value:function(){var e=y[this.status];e&&this.anims.play(e)}},{key:"setStatus",value:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t||this.status!==e){switch(this.status===p.ATTACKED&&this.setTint(16777215),this.status=e,this.status){case p.IDLE:case p.FEED:case p.KICK_PREP:case p.KICK:break;case p.ATTACKED:this.setTint(16711680);break;case p.DEAD:this.isAlive=!1}var n=y[this.status];n&&this.anims.play(n),a&&this.playAnimationForStatus()}}}]),n}(d.a.Physics.Arcade.Sprite),initSprites:function(e){e.anims.create({key:"player_idle",frames:e.anims.generateFrameNumbers("player",{start:0,end:1}),frameRate:5,repeat:-1}),e.anims.create({key:"player_hug",frames:[{key:"player",frame:2},{key:"player",frame:3}],frameRate:4,repeat:-1}),e.anims.create({key:"player_kick_prep",frames:[{key:"player",frame:6}],frameRate:5,repeat:0}),e.anims.create({key:"player_kick",frames:[{key:"player",frame:7}],frameRate:5,repeat:-1}),e.anims.create({key:"player_hurt",frames:e.anims.generateFrameNumbers("player",{start:4,end:5}),frameRate:5,repeat:-1}),m.a.initSprites(e)},initSpritesheet:function(e){e.load.spritesheet("player","./assets/entity-oldlady.png",{frameWidth:64,frameHeight:88}),m.a.initSpritesheet(e)}};t.b=v}).call(this,a(23))},,,,,function(e,t,a){"use strict";var n=a(6),i=new(a.n(n).a.Events.EventEmitter);t.a=i},,function(e,t,a){"use strict";(function(e){var n,i=a(16),s=a(17),r=a(7),c=a(19),o=a(18),u=a(10),l=a(6),h=a.n(l),d=0,f=1,m=2,p=(n={},Object(u.a)(n,d,"foodBowl_full"),Object(u.a)(n,f,"foodBowl_full"),Object(u.a)(n,m,"foodBowl_empty"),n),y={Entity:function(t){Object(c.a)(n,t);var a=Object(o.a)(n);function n(e,t,s){var c;return Object(i.a)(this,n),(c=a.call(this,e,s.x,s.y,"foodBowl")).drainRate=0,c.drainStart=null,c.drainTimer=null,c.hpRange=[0,100],c.hp=c.hpRange[1],c.feeding=[],c.canBeEaten=!0,e.add.existing(Object(r.a)(c)),isNaN(s.depth)||c.setDepth(s.depth),t?t.add(Object(r.a)(c)):e.physics.add.existing(Object(r.a)(c)),c.setBounce(.4),c.setCollideWorldBounds(!0),c.body.setSize(36,15),c.body.offset.y=-2,c.setStatus(d,!0),c}return Object(s.a)(n,[{key:"addToDrainRate",value:function(e){this.drainRate+=e,this.startDrainTimer()}},{key:"setDrainRate",value:function(e){console.log("setDrainRate to ".concat(this.drainRate)),this.drainRate=e,this.startDrainTimer()}},{key:"startDrainTimer",value:function(){var t=this;this.drainStart=new Date,this.killDrainTimer(),this.drainTimer=e.setTimeout((function(){t.onDrainTimer()}),500)}},{key:"onDrainTimer",value:function(){var e=(new Date-this.drainStart)/1e3*this.drainRate;this.hp=this.hp-e,this.hp<=this.hpRange[0]?(this.hp=this.hpRange[0],this.killDrainTimer(),this.emptyBowl()):(this.hp>this.hpRange[1]&&(this.hp=this.hpRange[1]),this.startDrainTimer())}},{key:"killDrainTimer",value:function(){this.drainTimer&&(e.clearTimeout(this.drainTimer),this.drainTimer=null)}},{key:"emptyBowl",value:function(){var t=this;this.setStatus(m),e.setTimeout((function(){t.destroy()}),1e3)}},{key:"eatenBy",value:function(e){-1===this.feeding.indexOf(e)&&(e.body.velocity.x=0,this.addToDrainRate(20),this.feeding.push(e),this.feeding.length>=1&&(this.canBeEaten=!1)),this.status===d&&this.setStatus(f)}},{key:"update",value:function(){}},{key:"setStatus",value:function(e,t){if(t||this.status!==e){switch(this.status=e,this.status){case d:break;case f:this.body.velocity.x=0,this.body.setDrag(500);break;case m:this.canBeEaten=!1,this.feeding.forEach((function(e){e.bowlEmpty()}))}var a=p[this.status];a&&this.anims.play(a)}}}]),n}(h.a.Physics.Arcade.Sprite),initSprites:function(e){e.anims.create({key:"foodBowl_full",frames:[{key:"foodBowl",frame:0}],frameRate:10}),e.anims.create({key:"foodBowl_empty",frames:[{key:"foodBowl",frame:1}],frameRate:10})},initSpritesheet:function(e){e.load.spritesheet("foodBowl","./assets/bowl.png",{frameWidth:38,frameHeight:22})}};t.a=y}).call(this,a(23))},function(e){e.exports=JSON.parse('{"info":{"name":"Raccoon Trapper"},"entities":{"misc":{"bowl":{"spawnSpeed":-200}},"enemies":{"LIL_BOI":{"type":"raccoon","scaleRange":[150,150],"stats":{"speed":[80,80],"jumpRate":[2,10]},"misc":{"tint":"0xffffff","puntKillThreshold":1}},"MEAN_BOI":{"type":"raccoon","scaleRange":[80,120],"stats":{"speed":[100,160],"jumpRate":[2,10]},"misc":{"tint":"0xff0000","puntKillThreshold":0,"feedable":false}},"BIG_BOI":{"type":"raccoon","scaleRange":[250,350],"stats":{"speed":[30,40],"jumpRate":[2,4]},"misc":{"tint":"0xff00ff","puntKillThreshold":2}}}},"scenes":{"GRASS_01":{"img":{},"lanes":[{"x":175,"y":100,"width":500,"height":25},{"x":125,"y":225,"width":620,"height":25},{"x":85,"y":350,"width":710,"height":25},{"x":50,"y":475,"width":800,"height":25}]}},"levels":[{"sceneKey":"GRASS_01","lanes":[{"spawns":[{"type":"LIL_BOI","rate":0.1},{"type":"LIL_BOI","rate":0.01}]},{"spawns":[{"type":"LIL_BOI","rate":0.1},{"type":"MEAN_BOI","rate":0.05}]},{"spawns":[{"type":"LIL_BOI","rate":0.2}]},{"spawns":[{"type":"LIL_BOI","rate":0.3}]}]},{"sceneKey":"GRASS_01","lanes":[{"spawns":[{"type":"BIG_BOI","rate":0.01}]},{"spawns":[{"type":"LIL_BOI","rate":0.05},{"type":"BIG_BOI","rate":0.01}]},{"spawns":[{"type":"MEAN_BOI","rate":0.5}]},{"spawns":[{"type":"LIL_BOI","rate":1}]}]}]}')},,,,function(e,t,a){"use strict";var n=a(16),i=a(17),s=a(7),r=a(19),c=a(18),o=a(6),u=30,l=-10,h={Entity:function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e,i,r){var c;return Object(n.a)(this,a),(c=t.call(this,e,i,r,"statBar")).progress=0,e.add.existing(Object(s.a)(c)),c}return Object(i.a)(a,[{key:"update",value:function(){}},{key:"setOffsetPosition",value:function(e,t){this.setPosition(e+u,t+l)}},{key:"playAnimationForProgress",value:function(){var e=Math.floor(7*this.progress);this.anims.play("statBar_".concat(e))}},{key:"setProgress",value:function(e,t){if(t||this.progress!==e){this.progress=e;var a=Math.floor(7*this.progress);this.anims.play("statBar_".concat(a))}}}]),a}(a.n(o).a.Physics.Arcade.Sprite),initSprites:function(e){e.anims.create({key:"statBar_0",frames:[{key:"statBar",frame:0}],frameRate:0,repeat:-1}),e.anims.create({key:"statBar_1",frames:[{key:"statBar",frame:1}],frameRate:0,repeat:-1}),e.anims.create({key:"statBar_2",frames:[{key:"statBar",frame:2}],frameRate:0,repeat:-1}),e.anims.create({key:"statBar_3",frames:[{key:"statBar",frame:3}],frameRate:0,repeat:-1}),e.anims.create({key:"statBar_4",frames:[{key:"statBar",frame:4}],frameRate:0,repeat:-1}),e.anims.create({key:"statBar_5",frames:[{key:"statBar",frame:5}],frameRate:0,repeat:-1}),e.anims.create({key:"statBar_6",frames:[{key:"statBar",frame:6}],frameRate:0,repeat:-1}),e.anims.create({key:"statBar_7",frames:[{key:"statBar",frame:7}],frameRate:0,repeat:-1}),e.anims.create({key:"statBar_8",frames:[{key:"statBar",frame:8}],frameRate:0,repeat:-1})},initSpritesheet:function(e){e.load.spritesheet("statBar","./assets/statbar.png",{frameWidth:45,frameHeight:10})}};t.a=h},function(e,t,a){"use strict";var n,i=a(14),s=25,r=100,c={setContext:function(e){n=e},preload:function(){n.load.image("bg-yard","./assets/yard-bg.jpg"),n.load.image("fg-yard","./assets/yard-fg.png"),n.load.image("lane4-yard","./assets/yard-lane4.png")},create:function(e){var t=n.physics.add.staticGroup(),a=n.physics.add.staticGroup(),c=n.physics.add.staticGroup();n.add.image(0,0,"bg-yard").setOrigin(0).setScale(1).setDepth(i.a.zindex.BACKGROUND),n.add.image(0,0,"fg-yard").setOrigin(0).setScale(1).setDepth(i.a.zindex.FOREGROUND),n.add.image(0,0,"lane4-yard").setOrigin(0).setScale(1).setDepth(i.a.zindex.LANE_4);return e.lanes.forEach((function(e){var n=e.y-r,i=900-e.x;t.create(e.x,e.y,"platform-floor").setDisplaySize(i,e.height).setOrigin(0,0).setAlpha(0).refreshBody(),a.create(e.x,n,"trigger-spawn").setDisplaySize(s,r).setOrigin(0,0).setAlpha(0).refreshBody(),c.create(e.x+e.width-s,n,"trigger-end").setDisplaySize(s,r).setOrigin(0,0).setAlpha(0).refreshBody()})),{platforms:t,leftTrigger:a,rightTrigger:c}}};t.a=c},,,function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return y})),a.d(t,"a",(function(){return b}));var n,i,s,r,c=a(6),o=a.n(c),u=a(29),l=a(15),h=a(21),d=a(26),f=a(20),m=a(34),p={bowls:0,hugs:0,bites:0,captures:0,escapes:0};e.gameData={curLevel:0};var y=function(){e.stopGame()},b=function(){var t={type:o.a.AUTO,scale:{parent:"game-container",mode:o.a.Scale.FIT,autoCenter:o.a.Scale.CENTER_BOTH,width:900,height:500,min:{width:90,height:50},max:{width:1600,height:1200},zoom:1},autoRound:!1,physics:{default:"arcade",arcade:{gravity:{y:800},debug:!1}},scene:{preload:v,create:k,update:O}};n=new o.a.Game(t),e.game=n,e.gameActive=!0};function v(){var t;this.load.audioSprite("sfx","./assets/sfx/mixdown.json",["assets/sfx/splat.ogg","assets/sfx/splat.mp3"]),r=t=this,e.scene=r,m.a.setContext(t),f.a.setContext(t),this.load.image("blood","./assets/blood.png"),m.a.preload(),f.a.preload()}function g(){var t=u.levels[e.gameData.curLevel];return u.scenes[t.sceneKey]}function k(){i=m.a.create(g()),d.a.on("interface",j,this);var t=f.a.create(u.entities,u.levels[e.gameData.curLevel],g());this.physics.add.collider(t.enemies,i.platforms,null,S,this),this.physics.add.collider(t.bowls,i.platforms),this.physics.add.overlap(t.enemies,t.bowls,A,null,this),this.physics.add.overlap(t.bowls,i.leftTrigger,w,null,this),this.physics.add.overlap(t.enemies,i.rightTrigger,x,null,this),this.physics.add.overlap(t.enemies,t.player,_,null,this),this.input.on("gameobjectdown",I),this.input.keyboard.on("keydown",R),function(){var e=r.add.particles("blood");s=e.createEmitter({visible:!1,blendMode:"SCREEN",speed:{min:-400,max:400},angle:{min:0,max:360},scale:{start:1,end:0},lifespan:500,gravityY:1e3})}()}function O(){f.a.update()}function j(t,a){e.gameInterface&&e.gameInterface(t,a)}function x(e,t){switch(e.status){case l.a.ROAMING_TAME:T("captures",1),e.captured();break;case l.a.ROAMING_ANGRY:case l.a.ROAMING:T("escapes",1),e.escaped()}}function w(e,t){e.destroy(),T("bowls",1)}function A(e,t){e.canEat()&&t.canBeEaten&&(e.eatAtBowl(t.body),t.eatenBy(e))}function S(e,t){return!0}function _(e,t){if(e.isAlive())if(t.checkStatus(h.a.HUGGING))e.isFull?e.checkStatus(l.a.HUGGING)||(e.hug(),t.onHugEnemy(),T("hugs",1)):(t.onAttackedByEnemy(),T("bites",1));else if(t.checkStatus(h.a.KICK_PREP));else if(t.checkStatus(h.a.KICK)&&t.getKickStrength()>0){if(e.punt)e.punt(t.getKickStrength())&&E(e.body.x,e.body.y);else e.kill(),E(e.body.x,e.body.y)}}function I(e,t){E(e.worldX,e.worldY)}function E(e,t){s.setPosition(e,t),s.explode(20),s.visible=!0,n.sound.playAudioSprite("sfx","splat1")}e.stopGame=function(){r&&(e.gameActive=!1,r.scene.stop())},e.startGame=function(){e.gameActive=!0,r.scene.start()},e.setLevel=function(t){e.stopGame(),e.gameData.curLevel=t,e.startGame()};var R=function(e){switch(e.code){case"Space":f.a.slingBowl()}},T=function(e,t){p[e]+=t,D(e,p[e])},D=function(e,t){d.a.emit("interface","setStat",{key:e,value:t})}}).call(this,a(23))},,function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return h}));var n,i=a(3),s=a(4),r=a(13),c=a(11),o=a(5),u=a(1),l=s.b.div(n||(n=Object(i.a)(["\n  position:relative;\n  width:100%;\n  height:100%;\n  background-color: ",";\n\n  >canvas{\n    border: 1rem solid ",";\n  }\n"])),Object(o.b)("black"),Object(o.b)("brown"));function h(){return function(t){e.gameInterface||(e.gameInterface=function(e,a){switch(e){case"setStat":t(Object(r.e)(a));break;default:console.error("invalid interface command",e)}})}(Object(c.a)()),Object(u.jsx)(l,{id:"game-container"})}}).call(this,a(23))},,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,i,s,r,c,o,u=a(0),l=a.n(u),h=a(30),d=a.n(h),f=a(3),m=a(2),p=a(25),y=a(4),b=a(39),v=a(5),g=a(1),k=y.b.div(n||(n=Object(f.a)(["\n  display: inline-block;\n  padding: 2rem;\n  border: .5rem solid ",";\n  border-radius: 1rem;\n  background-color: ",";\n  width:auto;\n\n  cursor:pointer;\n  &:hover{\n    background-color: ",";\n  }\n\n  span{\n    font-size:3rem;\n    font-weight: bold;\n  }\n"])),Object(v.b)("brown"),Object(v.b)("tan"),Object(v.b)("brown_light"));function O(e){var t=e.onClick,a=e.text;return Object(g.jsx)(k,{onClick:t,children:Object(g.jsx)("span",{children:a})})}var j=y.b.div(i||(i=Object(f.a)(["\n  margin: 0;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  min-width: 25%;\n  min-height: 25%;\n  transform: translate(-50%, -50%);\n  padding: 4rem;\n"]))),x=y.b.div(s||(s=Object(f.a)(["\n  position:absolute;\n  top:0;\n  left:0;\n  width:100%;\n  height:100%;\n  background-color: ",";\n  border: 1rem solid ",";\n  border-radius: 5rem;\n\n  z-index:-1;\n"])),Object(v.b)("brown_dark"),Object(v.b)("brown")),w=y.b.div(r||(r=Object(f.a)(["\n"]))),A=y.b.h1(c||(c=Object(f.a)(["\n  text-align:center;\n  font-size:8rem;\n  color: ",";\n"])),Object(v.b)("tan")),S=y.b.div(o||(o=Object(f.a)(["\n  margin-top:1rem;\n  text-align:center;\n\n\n"])));function _(){var e=Object(m.f)();return Object(g.jsxs)(j,{children:[Object(g.jsx)(w,{children:Object(g.jsx)(A,{children:"RACCOON TRAPPER"})}),Object(g.jsxs)(S,{children:[Object(g.jsx)(O,{onClick:function(t){return function(e){e("/game")}(e)},text:"NEW GAME"}),";"]}),Object(g.jsx)(x,{})]})}var I=a(11),E=a(36),R=a.n(E),T=a(44),D=a(22);function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var G,N,K,C=Object(D.b)("ui/fetchThing",function(){var e=Object(T.a)(R.a.mark((function e(t){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),P=Object(D.c)({name:"ui",initialState:{value:0,status:"idle",gameStatus:"inactive"},reducers:{startGame:function(e){e.gameStatus="active"},exitGame:function(e){e.gameStatus="inactive"},increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(C.pending,(function(e){e.status="loading"})).addCase(C.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),L=P.actions,M=L.startGame,U=L.exitGame,F=(L.increment,L.decrement,L.incrementByAmount,function(e){return e.ui.gameStatus}),z=P.reducer,H=a(12),W=a(13),V=y.b.div(G||(G=Object(f.a)(["\n"]))),Y=y.b.div(N||(N=Object(f.a)(["\n"]))),X=y.b.div(K||(K=Object(f.a)(["\n  span{\n    font-size: 3rem;\n  }\n"])));var J,$,q=function(){var e=Object(I.b)(W.d),t=Object(I.b)(W.c);return Object(g.jsxs)(V,{children:[e.map((function(e,t){return Object(g.jsxs)(Y,{children:[Object(g.jsx)("span",{children:"".concat(e.key,":")}),Object(g.jsx)("span",{children:e.value})]},t)})),Object(g.jsxs)(X,{children:[Object(g.jsx)("span",{children:"Score:"}),Object(g.jsx)("span",{children:t})]})]})},Q=a(20),Z=y.b.div(J||(J=Object(f.a)(["\n"]))),ee=y.b.div($||($=Object(f.a)(["\n"])));var te,ae,ne,ie,se,re,ce,oe,ue=function(){var e=Object(I.b)(W.b),t=Object(u.useState)(20),a=Object(H.a)(t,2),n=a[0],i=a[1];return Object(u.useEffect)((function(){Object(Q.b)(n)}),[n]),Object(g.jsxs)(Z,{children:[Object(g.jsx)("p",{children:"spawn speed"}),Object(g.jsx)("input",{id:"spawn-slider",className:"slider",type:"range",min:"0",max:"100",value:n,onChange:function(e){return i(e.target.value)}}),Object(g.jsx)("p",{children:"spawn rate: ".concat(n,"%")}),Object(g.jsxs)(ee,{children:[Object(g.jsx)("span",{children:"Enemies:"}),Object(g.jsx)("span",{children:e})]})]})},le=y.b.div(te||(te=Object(f.a)(["\n  position:fixed;\n  top:0;\n  left:0;\n  transition:left .5s ease-in-out;\n\n  width:40rem;\n  height:100%;\n  margin:0;\n  color:white;\n  z-index:1;\n\n  &.collapsed{\n    left:-40rem;\n    transition:left .5s ease-in-out;\n  }\n\n  >.link-button{\n    color:white;\n    display:inline-block;\n    vertical-align:middle;\n    margin:0rem 1.8rem;\n    margin-top:1.5rem;\n    transition:color .5s ease-in;\n    color:",";\n    \n    h4{\n      font-size:2.5rem;\n    }\n    &:hover{\n      color: ",";\n      transition:color .2s ease-out;\n    }\n  }\n"])),Object(v.b)("tan"),Object(v.b)("green_light")),he=y.b.div(ae||(ae=Object(f.a)(["\n  position:absolute;\n  left:0;\n  right:0;\n  top:0;\n  bottom:0;\n  z-index:-1;\n  \n  background-color: ",";\n  border-right: .5rem solid ",";\n"])),Object(v.b)("brown_dark"),Object(v.b)("brown")),de=y.b.div(ne||(ne=Object(f.a)(["\n  width:5rem;\n  height:calc(100% + .5rem);\n  position:absolute;\n  top:0rem;\n  left:calc(100% - 1rem);\n  background-color:",";\n  border:.5rem solid ",";\n  border-radius: 0 0 1rem 0;\n  border-left:0;\n  border-top:0;\n  transition:background-color .2s ease-out;\n\n  z-index:1;\n\n  &:hover{\n    background-color: ",";\n    color: ",";\n  }\n  \n  color: ",";\n  padding-right:1rem;\n  text-align:center;\n  writing-mode: vertical-rl;\n  text-orientation: mixed;\n"])),Object(v.b)("brown_dark"),Object(v.b)("brown"),Object(v.b)("brown"),Object(v.b)("white"),Object(v.b)("brown_light")),fe=y.b.div(ie||(ie=Object(f.a)(["\n  display:flex;\n  flex-direction: column;\n  height:100%;\n"]))),me=y.b.div(se||(se=Object(f.a)(["\n  min-height:20rem;\n  position:relative;\n  cursor:pointer;\n  border-bottom:.5rem solid ",";\n  padding:1rem;\n"])),Object(v.b)("brown")),pe=y.b.div(re||(re=Object(f.a)(["\n  flex-grow:1;\n  padding:1rem;\n"]))),ye=Object(y.b)(p.b)(ce||(ce=Object(f.a)(["\n  color:",";\n  margin:2rem;\n  font-size:2rem;\n\n  &:hover{\n    color:white;\n  }\n"])),Object(v.b)("tan")),be=y.b.div(oe||(oe=Object(f.a)(["\n  \n"]))),ve=function(){return Object(g.jsx)(be,{children:Object(g.jsx)("ul",{children:["Feed the raccoons and give them hugs!","Kick the ones who don't love you!","Arrow Up/Down: Change langes","Arrow Left: Hug","Arrow Right: Charge kick","Space: Throw food","... you can't win or lose right now"].map((function(e,t){return Object(g.jsxs)("li",{children:["$",e]},t)}))})})};var ge,ke=function(){var e=Object(u.useState)(!0),t=Object(H.a)(e,2),a=t[0],n=t[1];return Object(g.jsxs)(le,{className:a?"collapsed":"",children:[Object(g.jsxs)(fe,{children:[Object(g.jsxs)(me,{children:[Object(g.jsx)("h2",{children:"RACCOON TRAPPER"}),Object(g.jsx)(ye,{to:"/",children:"menu"}),Object(g.jsx)(ve,{}),Object(g.jsx)(de,{onClick:function(){return n(!a)},children:Object(g.jsx)("span",{children:"MENU"})})]}),Object(g.jsxs)(pe,{children:[Object(g.jsx)(ue,{}),Object(g.jsx)("hr",{}),Object(g.jsx)(q,{})]})]}),Object(g.jsx)(he,{})]})},Oe=a(37),je=y.b.div(ge||(ge=Object(f.a)(["\n  position:absolute;\n  left:1rem;\n  top:1rem;\n  right:1rem;\n  bottom:1rem;\n"]))),xe=function(e){var t=e.dispatch,a=Object(m.e)();return Object(u.useEffect)((function(){a.pathname.indexOf("game")>-1?t(M()):t(U())}),[a,t]),null};var we=function(){var e=Object(I.b)(F),t=Object(I.a)(),a=[{route:"",text:"SPLASH",element:Object(g.jsx)(_,{})},{route:"/game",text:"RACCOON TRAPPER",element:Object(g.jsx)(b.a,{})}];return Object(u.useEffect)((function(){"active"===e?Object(Oe.a)():Object(Oe.b)()}),[e,t]),Object(g.jsxs)(p.a,{children:[Object(g.jsx)(xe,{dispatch:t}),Object(g.jsx)(ke,{}),Object(g.jsx)(je,{children:Object(g.jsx)(m.c,{children:a.map((function(e,t){return Object(g.jsx)(m.a,{path:e.route,element:e.element},t)}))})})]})},Ae=Object(D.a)({reducer:{ui:z,stats:W.a}}),Se=a(27);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(59);d.a.render(Object(g.jsx)(l.a.StrictMode,{children:Object(g.jsxs)(Se.a,{store:Ae,children:[Object(g.jsx)(we,{}),Object(g.jsx)(v.a,{})]})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[60,1,2]]]);
//# sourceMappingURL=main.46be3740.chunk.js.map