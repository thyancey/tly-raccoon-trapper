(this["webpackJsonptly-raccoon-trapper"]=this["webpackJsonptly-raccoon-trapper"]||[]).push([[0],{13:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var a={zindex:{BACKGROUND:0,LANE_1:10,LANE_2:20,LANE_3:30,LANE_4:40,FOREGROUND:50}},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{var n=a.zindex["LANE_".concat(e+1)]+t;if(!isNaN(n))return n}catch(s){}return 0};t.a=a},14:function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return m}));var a=n(21),s=n(8),i={bowls:0,hugs:0,bites:0,captures:0,escapes:0,activeEnemies:0},r={bowls:-.25,hugs:5,bites:-10,captures:10,escapes:-5,activeEnemies:0},c=Object(a.c)({name:"metrics",initialState:i,reducers:{setMetric:function(e,t){var n,a,s=null===(n=t.payload)||void 0===n?void 0:n.key;void 0!==e[s]?e[s]=null===(a=t.payload)||void 0===a?void 0:a.value:console.error("invalid stat called in reducer:",t.payload.key)}},extraReducers:function(e){e.addCase(s.c,(function(e){return i}))}}),o=c.actions.setMetric,u=function(e){return Object.keys(e.game.metrics).filter((function(e){return void 0!==r[e]})).map((function(t){return{key:t,value:e.game.metrics[t],isGood:r[t]>0}}))},l=function(e){return e.game.metrics},d=function(e){return u(e).filter((function(e){return e.isGood}))},h=function(e){return u(e).filter((function(e){return!e.isGood}))},f=function(e){return function(e){var t=0;return Object.keys(e).forEach((function(n){r[n]&&(t+=e[n]*r[n])})),t}(e.game.metrics)},m=function(e){return e.game.metrics.activeEnemies};t.a=c.reducer},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a,s=n(16),i=n(17),r=n(6),c=n(19),o=n(18),u=n(5),l=n.n(u),d={ROAMING:0,EATING:1,ROAMING_TAME:3,DEAD:4,HUGGING:5,IDLE:6,CAPTURED:12,ESCAPED:13,BITING:14},h="raccoon",f={LIL_PUNT:{min:{x:-75,y:-50},max:{x:-200,y:-200},diff:{x:0,y:0}},BIG_PUNT:{min:{x:-500,y:-300},max:{x:-700,y:-500},diff:{x:0,y:0}}};f.LIL_PUNT.diff={x:f.LIL_PUNT.max.x-f.LIL_PUNT.min.x,y:f.LIL_PUNT.max.y-f.LIL_PUNT.min.y},f.BIG_PUNT.diff={x:f.BIG_PUNT.max.x-f.BIG_PUNT.min.x,y:f.BIG_PUNT.max.y-f.BIG_PUNT.min.y};var m={Entity:function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(e,i,c){var o,u,l,h,f;return Object(s.a)(this,n),f=t.call(this,e,c.x,c.y,"raccoon"),a=e,f.deathTimer=null,f.destroyTimer=null,f.punted=null,f.type="raccoon",f.particleDeath=c.particleDeath,f.stats=c.stats||{},f.status=null,f.isFull=!1,f.eatOffset=11,f.curPhysState=null,f.curAnimState=null,f.puntKillThreshold=1,((null===(o=c.misc)||void 0===o?void 0:o.puntKillThreshold)||0===(null===(u=c.misc)||void 0===u?void 0:u.puntKillThreshold))&&(f.puntKillThreshold=c.misc.puntKillThreshold),f.feedable=!0,!1===(null===(l=c.misc)||void 0===l?void 0:l.feedable)&&(f.feedable=!1),isNaN(c.depth)||f.setDepth(c.depth),e.add.existing(Object(r.a)(f)),i?i.add(Object(r.a)(f)):e.physics.add.existing(Object(r.a)(f)),f.setBounce(0),f.setCollideWorldBounds(!1),f.allowGravity=!1,f.body.setSize(30,20),f.body.offset.x=15,f.body.offset.y=25,f.setStatus(d.ROAMING,!0),f.setInteractive(),(null===(h=c.misc)||void 0===h?void 0:h.tint)&&f.setTint(c.misc.tint),f}return Object(i.a)(n,[{key:"clicked",value:function(){this.kill(!0)}},{key:"canEat",value:function(){if(!this.isAlive()||!this.feedable||this.isFull)return!1;switch(this.status){case d.EATING:return!1;default:return!0}}},{key:"canIdle",value:function(){if(!this.isAlive()||!this.body.touching.down||0!==this.body.velocity.x)return!1;switch(this.status){case d.ROAMING:case d.IDLE:return!0;default:return!1}}},{key:"punt",value:function(e){var t,n=this;this.punted=!0,this.puntedTimer=a.time.delayedCall(1e3,(function(){n.punted=!1})),this.body.setDrag(0),t=e<.5?f.LIL_PUNT:f.BIG_PUNT,this.setVelocity(t.min.x+t.diff.x*e,t.min.y+t.diff.y*e)}},{key:"kill",value:function(e){var t=this;this.setStatus(d.DEAD),e?this.destroy():this.deathTimer=a.time.delayedCall(3e3,(function(){t.destroy()}))}},{key:"update",value:function(){this.isAlive()&&this.flipX?this.body.velocity.x>=0&&(this.flipX=!1):this.body.velocity.x<0&&(this.flipX=!0);var e=this.getAnimationForState();e!==this.curAnim&&(this.curAnim=e,this.playAnimationForKey(e)),this.adjustMovementForState()}},{key:"isAlive",value:function(){return this.status!==d.DEAD}},{key:"isMovingStatus",value:function(e){switch(e||this.status){case d.ROAMING:case d.ROAMING_TAME:return!0}return!1}},{key:"adjustMovementForState",value:function(){this.body.velocity.x<1&&this.body.velocity.x>-1&&this.isMovingStatus(this.status)&&this.setStatus(this.status,!0),this.body.touching.down&&this.body.velocity.x<0&&this.moveStop()}},{key:"getAnimationForState",value:function(){return this.status===d.DEAD?"raccoon_dead":this.body.velocity.y<-50?"raccoon_hop_up":this.body.velocity.y>50?"raccoon_hop_down":this.status===d.EATING?"raccoon_eat":this.status===d.ROAMING_TAME?"raccoon_loveWalk":this.status===d.ROAMING?"raccoon_angryWalk":this.status===d.HUGGING?"raccoon_hug":this.status===d.BITING||this.status===d.ESCAPED?"raccoon_bite":this.status===d.CAPTURED?"raccoon_hug":null}},{key:"setPhysState",value:function(){}},{key:"throttledUpdate",value:function(){}},{key:"eatAtBowl",value:function(e){this.body.x=e.x-this.eatOffset,this.setStatus(d.EATING)}},{key:"bowlEmpty",value:function(){this.isAlive()&&(this.isFull=!0,this.setStatus(d.ROAMING_TAME))}},{key:"playAnimationForKey",value:function(e){e&&this.anims.play(e)}},{key:"checkStatus",value:function(e){return this.status===e}},{key:"moveNormal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.body.setDrag(0),this.body.velocity.x=this.stats.speed*e}},{key:"moveStop",value:function(){this.body.setDrag(500)}},{key:"setStatus",value:function(e,t){if(t||this.status!==e)switch(this.status=e,this.status){case d.ROAMING:this.moveNormal();break;case d.ROAMING_TAME:this.moveNormal(3);break;case d.EATING:case d.DEAD:case d.HUGGING:case d.BITING:case d.CAPTURED:case d.ESCAPED:this.moveStop()}}},{key:"resumeStatus",value:function(){var e=this.resumeStatus;this.setStatus(e)}},{key:"escaped",value:function(){this.setStatus(d.ESCAPED),this.delayedDestroy()}},{key:"captured",value:function(){this.setStatus(d.CAPTURED),this.delayedDestroy()}},{key:"hug",value:function(){this.setStatus(d.HUGGING),this.delayedDestroy()}},{key:"bite",value:function(){this.setStatus(d.BITING),this.delayedDestroy()}},{key:"delayedDestroy",value:function(){var e=this;this.destroyTimer=a.time.delayedCall(1e3,(function(){e.destroy()}))}}]),n}(l.a.Physics.Arcade.Sprite),initSprites:function(e){e.anims.create({key:"raccoon_idle",frames:[{key:h,frame:0},{key:h,frame:1}],frameRate:7,repeat:-1}),e.anims.create({key:"raccoon_walk",frames:[{key:h,frame:2},{key:h,frame:3}],frameRate:7,repeat:-1}),e.anims.create({key:"raccoon_hop_start",frames:[{key:h,frame:4}],frameRate:7,repeat:0}),e.anims.create({key:"raccoon_hop_up",frames:[{key:h,frame:5}],frameRate:7,repeat:0}),e.anims.create({key:"raccoon_hop_down",frames:[{key:h,frame:6}],frameRate:7,repeat:0}),e.anims.create({key:"raccoon_hop_end",frames:[{key:h,frame:7}],frameRate:7,repeat:0}),e.anims.create({key:"raccoon_angryWalk",frames:e.anims.generateFrameNumbers(h,{start:2,end:3}),frameRate:7,repeat:-1}),e.anims.create({key:"raccoon_loveWalk",frames:e.anims.generateFrameNumbers(h,{start:10,end:11}),frameRate:7,repeat:-1}),e.anims.create({key:"raccoon_dead",frames:e.anims.generateFrameNumbers(h,{start:16,end:17}),frameRate:7,repeat:-1}),e.anims.create({key:"raccoon_eat",frames:e.anims.generateFrameNumbers(h,{start:8,end:9}),frameRate:7,repeat:-1}),e.anims.create({key:"raccoon_hug",frames:e.anims.generateFrameNumbers(h,{start:12,end:13}),frameRate:7,repeat:-1}),e.anims.create({key:"raccoon_bite",frames:e.anims.generateFrameNumbers(h,{start:14,end:15}),frameRate:7,repeat:-1}),e.anims.create({key:"raccoon_punted",frames:e.anims.generateFrameNumbers(h,{start:2,end:3}),frameRate:7,repeat:-1})},initSpritesheet:function(e){e.load.spritesheet("raccoon","./assets/sprites/raccoon2.png",{frameWidth:56,frameHeight:56})}};t.b=m},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a,s,i,r=n(16),c=n(17),o=n(6),u=n(19),l=n(18),d=n(10),h=n(5),f=n.n(h),m=n(13),p=30,y=-10,b={Entity:function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,a,s){var i;return Object(r.a)(this,n),(i=t.call(this,e,a,s,"statBar")).progress=0,e.add.existing(Object(o.a)(i)),i}return Object(c.a)(n,[{key:"update",value:function(){}},{key:"setOffsetPosition",value:function(e,t){this.setPosition(e+p,t+y)}},{key:"playAnimationForProgress",value:function(){var e=Math.floor(7*this.progress);this.anims.play("statBar_".concat(e))}},{key:"setProgress",value:function(e,t){if(t||this.progress!==e){this.progress=e;var n=Math.floor(7*this.progress);this.anims.play("statBar_".concat(n))}}}]),n}(f.a.Physics.Arcade.Sprite),initSprites:function(e){e.anims.create({key:"statBar_0",frames:[{key:"statBar",frame:0}],frameRate:0,repeat:-1}),e.anims.create({key:"statBar_1",frames:[{key:"statBar",frame:1}],frameRate:0,repeat:-1}),e.anims.create({key:"statBar_2",frames:[{key:"statBar",frame:2}],frameRate:0,repeat:-1}),e.anims.create({key:"statBar_3",frames:[{key:"statBar",frame:3}],frameRate:0,repeat:-1}),e.anims.create({key:"statBar_4",frames:[{key:"statBar",frame:4}],frameRate:0,repeat:-1}),e.anims.create({key:"statBar_5",frames:[{key:"statBar",frame:5}],frameRate:0,repeat:-1}),e.anims.create({key:"statBar_6",frames:[{key:"statBar",frame:6}],frameRate:0,repeat:-1}),e.anims.create({key:"statBar_7",frames:[{key:"statBar",frame:7}],frameRate:0,repeat:-1}),e.anims.create({key:"statBar_8",frames:[{key:"statBar",frame:8}],frameRate:0,repeat:-1})},initSpritesheet:function(e){e.load.spritesheet("statBar","./assets/statbar.png",{frameWidth:45,frameHeight:10})}},g={IDLE:0,FEED:1,HUGGING:2,KICK_PREP:3,KICK:4,ATTACKED:5,DEAD:6},v=(a={},Object(d.a)(a,g.IDLE,"player_idle"),Object(d.a)(a,g.FEED,"player_idle"),Object(d.a)(a,g.HUGGING,"player_hug"),Object(d.a)(a,g.KICK_PREP,"player_kick_prep"),Object(d.a)(a,g.KICK,"player_kick"),Object(d.a)(a,g.ATTACKED,"player_hurt"),Object(d.a)(a,g.DEAD,"player_idle"),a),j={},O={Entity:function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,a,c,u,l){var d;return Object(r.a)(this,n),d=t.call(this,e,a,c,"player"),i=e,d.recoveryTimer=null,d.destroyTimer=null,d.hpRange=[0,100],d.hp=d.hpRange[1],d.laneIdx=0,d.laneValues=d.parseLaneData(l),d.posOffset=[],d.spriteOffset=[],d.lastIntent=null,d.isAlive=!0,d.kickCharge=0,e.add.existing(Object(o.a)(d)),u?u.add(Object(o.a)(d)):e.physics.add.existing(Object(o.a)(d)),d.setOrigin(0,0).refreshBody(),d.body.setSize(60,100),d.posOffset=[-120,4],d.spriteOffset=[12,6],d.setScale(1.3),d.updatePlayerPosition(),d.setStatus(g.IDLE,!0),j.cursors=e.input.keyboard.createCursorKeys(),s=new b.Entity(e,150,150),d.changeLane(2),d}return Object(c.a)(n,[{key:"setLaneDepth",value:function(){this.setDepth(Object(m.b)(this.laneIdx)-1)}},{key:"parseLaneData",value:function(e){return e.map((function(e){return{x:parseInt(e.x)+parseInt(e.width)-10,y:parseInt(e.y)-110}}))}},{key:"changeLane",value:function(e){this.laneIdx+=e;var t=this.laneValues.length-1;this.laneIdx>t?this.laneIdx=0:this.laneIdx<0&&(this.laneIdx=t),this.updatePlayerPosition()}},{key:"updatePlayerPosition",value:function(){var e=this.laneValues[this.laneIdx],t={x:e.x+this.posOffset[0],y:e.y+this.posOffset[1]};this.body.x=t.x+this.spriteOffset[0],this.body.y=t.y+this.spriteOffset[1],this.setPosition(t.x,t.y),s&&s.setOffsetPosition(t.x,t.y),this.status===g.KICK&&this.cancelKick(),this.setLaneDepth()}},{key:"checkStatus",value:function(e){return this.status===e}},{key:"checkStatuses",value:function(e){return e.indexOf(this.status)>-1}},{key:"onAttackedByEnemy",value:function(e){var t=this;this.setStatus(g.ATTACKED),this.recoveryTimer=i.time.delayedCall(1e3,(function(){t.setStatus(g.IDLE)}))}},{key:"kill",value:function(){this.setStatus(g.DEAD),this.delayedDestroy()}},{key:"delayedDestroy",value:function(){var e=this;this.destroyTimer=i.time.delayedCall(5e3,(function(){e.destroy()}))}},{key:"chargeKick",value:function(){this.kickCharge+=.1,this.kickCharge>1&&(this.kickCharge=1),s.setProgress(this.kickCharge)}},{key:"startKick",value:function(){this.checkStatuses([g.KICK,g.KICK_PREP])||this.setStatus(g.KICK_PREP)}},{key:"getModifiedKickCharge",value:function(){return.3+.7*this.kickCharge}},{key:"kick",value:function(){var e=this;this.setStatus(g.KICK),this.recoveryTimer=i.time.delayedCall(500*this.getModifiedKickCharge(),(function(){e.cancelKick()}))}},{key:"cancelKick",value:function(){this.kickCharge=0,s.setProgress(this.kickCharge),this.setStatus(g.IDLE)}},{key:"getKickStrength",value:function(){return this.getModifiedKickCharge()}},{key:"startHug",value:function(){this.checkStatus(g.HUGGING)||this.setStatus(g.HUGGING)}},{key:"cancelHug",value:function(){this.checkStatus(g.HUGGING)&&this.setStatus(g.IDLE)}},{key:"onHugEnemy",value:function(e){}},{key:"update",value:function(){var e=this.getIntentFromStateAndKeys();if(e!==this.lastIntent)switch(this.lastIntent=e,e){case"attacked":break;case"moveUp":this.changeLane(-1);break;case"moveDown":this.changeLane(1);break;case"startKick":this.startKick();break;case"releaseKick":this.kick();break;case"startHug":this.startHug();break;case"cancelHug":this.cancelHug()}}},{key:"getIntentFromStateAndKeys",value:function(){if(this.isAlive){if(this.checkStatus(g.ATTACKED))return"attacked";if(j.cursors.up.isDown)return"moveUp";if(j.cursors.down.isDown)return"moveDown";if(this.checkStatus(g.KICK_PREP)){if(!j.cursors.right.isDown)return"releaseKick"}else if(j.cursors.right.isDown)return"startKick";if(this.checkStatus(g.HUGGING)){if(!j.cursors.left.isDown)return"cancelHug"}else if(j.cursors.left.isDown)return"startHug"}return null}},{key:"throttledUpdate",value:function(){this.checkStatus(g.KICK_PREP)&&this.chargeKick()}},{key:"playAnimationForStatus",value:function(){var e=v[this.status];e&&this.anims.play(e)}},{key:"setStatus",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t||this.status!==e){switch(this.status===g.ATTACKED&&this.setTint(16777215),this.status=e,this.status){case g.IDLE:case g.FEED:case g.KICK_PREP:case g.KICK:break;case g.ATTACKED:this.setTint(16711680);break;case g.DEAD:this.isAlive=!1}var a=v[this.status];a&&this.anims.play(a),n&&this.playAnimationForStatus()}}}]),n}(f.a.Physics.Arcade.Sprite),initSprites:function(e){e.anims.create({key:"player_idle",frames:e.anims.generateFrameNumbers("player",{start:0,end:1}),frameRate:5,repeat:-1}),e.anims.create({key:"player_hug",frames:[{key:"player",frame:2},{key:"player",frame:3}],frameRate:4,repeat:-1}),e.anims.create({key:"player_kick_prep",frames:[{key:"player",frame:6}],frameRate:5,repeat:0}),e.anims.create({key:"player_kick",frames:[{key:"player",frame:7}],frameRate:5,repeat:-1}),e.anims.create({key:"player_hurt",frames:e.anims.generateFrameNumbers("player",{start:4,end:5}),frameRate:5,repeat:-1}),b.initSprites(e)},initSpritesheet:function(e){e.load.spritesheet("player","./assets/entity-oldlady.png",{frameWidth:64,frameHeight:88}),b.initSpritesheet(e)}};t.b=O},27:function(e,t,n){"use strict";var a=n(5),s=new(n.n(a).a.Events.EventEmitter);t.a=s},28:function(e,t,n){"use strict";var a,s,i=n(16),r=n(17),c=n(6),o=n(19),u=n(18),l=n(10),d=n(5),h=n.n(d),f=n(9),m=0,p=1,y=2,b=(a={},Object(l.a)(a,m,"foodBowl_full"),Object(l.a)(a,p,"foodBowl_full"),Object(l.a)(a,y,"foodBowl_empty"),a),g={Entity:function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e,a,r){var o;return Object(i.a)(this,n),o=t.call(this,e,r.x,r.y,"foodBowl"),s=e,o.drainRate=0,o.drainStart=null,o.drainTimer=null,o.destroyTimer=null,o.hpRange=[0,100],o.hp=o.hpRange[1],o.feeding=[],o.canBeEaten=!0,e.add.existing(Object(c.a)(o)),isNaN(r.depth)||o.setDepth(r.depth),a?a.add(Object(c.a)(o)):e.physics.add.existing(Object(c.a)(o)),o.setBounce(.4),o.setCollideWorldBounds(!0),o.body.setSize(36,15),o.body.offset.y=-2,o.setStatus(m,!0),o}return Object(r.a)(n,[{key:"addToDrainRate",value:function(e){this.drainRate+=e,this.startDrainTimer()}},{key:"setDrainRate",value:function(e){console.log("setDrainRate to ".concat(this.drainRate)),this.drainRate=e,this.startDrainTimer()}},{key:"startDrainTimer",value:function(){var e=this;this.drainTimer=s.time.delayedCall(500,(function(){e.onDrainTimer()})),this.drainStart=new Date}},{key:"onDrainTimer",value:function(){var e=(new Date-this.drainStart)/1e3*this.drainRate;this.hp=this.hp-e,this.hp<=this.hpRange[0]?(this.hp=this.hpRange[0],this.emptyBowl()):(this.hp>this.hpRange[1]&&(this.hp=this.hpRange[1]),this.startDrainTimer())}},{key:"emptyBowl",value:function(){var e=this;this.setStatus(y),this.destroyTimer=s.time.delayedCall(1e3,(function(){e.destroy()}))}},{key:"eatenBy",value:function(e){-1===this.feeding.indexOf(e)&&(e.body.velocity.x=0,this.addToDrainRate(20),this.feeding.push(e),this.feeding.length>=1&&(this.canBeEaten=!1)),this.status===m&&this.setStatus(p)}},{key:"update",value:function(){}},{key:"setStatus",value:function(e,t){if(t||this.status!==e){switch(this.status=e,this.status){case m:break;case p:this.body.velocity.x=0,this.body.setDrag(500);break;case y:this.canBeEaten=!1,this.feeding.forEach((function(e){Object(f.c)("tame",e.body.x,e.body.y,e.depth),e.bowlEmpty()}))}var n=b[this.status];n&&this.anims.play(n)}}}]),n}(h.a.Physics.Arcade.Sprite),initSprites:function(e){e.anims.create({key:"foodBowl_full",frames:[{key:"foodBowl",frame:0}],frameRate:10}),e.anims.create({key:"foodBowl_empty",frames:[{key:"foodBowl",frame:1}],frameRate:10})},initSpritesheet:function(e){e.load.spritesheet("foodBowl","./assets/bowl.png",{frameWidth:38,frameHeight:22})}};t.a=g},29:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return N})),n.d(t,"d",(function(){return C})),n.d(t,"b",(function(){return P}));var a,s,i,r=n(47),c=n(5),o=n.n(c),u=n(30),l=n(22),d=n(24),h=n(27),f=n(9),m=n(36),p={bowls:0,hugs:0,bites:0,captures:0,escapes:0},y={};e.gameData={curLevel:0};var b={blood:{image:"./assets/blood.png",emitter:{quantity:20,visible:!1,blendMode:"SCREEN",speed:{min:-400,max:400},angle:{min:210,max:330},scale:{start:1,end:0},lifespan:500,gravityY:1e3}},raccoon:{atlas:"./assets/sprites/particle-raccoon",sound:"splat1",emitter:{quantity:7,frame:{frames:["particle-raccoon0","particle-raccoon1","particle-raccoon2","particle-raccoon3","particle-raccoon4","particle-raccoon5","particle-raccoon6"],cycle:!0},frequency:1,visible:!1,speed:{min:400,max:600},angle:{min:210,max:330},scale:{start:1.5,end:2},lifespan:{min:400,max:800},gravityY:2e3}},raccoon_mean:{atlas:"./assets/sprites/particle-raccoon",sound:"splat1",emitter:{quantity:7,frame:{frames:["particle-raccoon0","particle-raccoon1","particle-raccoon2","particle-raccoon3","particle-raccoon4","particle-raccoon5","particle-raccoon6"],cycle:!0},frequency:1,visible:!1,tint:16711680,speed:{min:300,max:500},angle:{min:210,max:330},scale:{start:.75,end:1.1},lifespan:{min:400,max:800},gravityY:2e3}}},g={},v=function(){console.log("GAME: createGame"),y=Object(r.a)({},p);var t={type:o.a.AUTO,scale:{parent:"game-container",mode:o.a.Scale.FIT,autoCenter:o.a.Scale.CENTER_BOTH,width:900,height:500,min:{width:90,height:50},max:{width:1600,height:1200},zoom:1},autoRound:!1,physics:{default:"arcade",arcade:{gravity:{y:800},debug:!1}},scene:{preload:j,create:k,update:x}};a=new o.a.Game(t),e.game=a,e.gameActive=!0};function j(){var t,n=this;i=t=this,e.scene=i,m.a.setContext(t),f.a.setContext(t),this.load.audioSprite("sfx","./assets/sfx/mixdown.json",["assets/sfx/splat.ogg","assets/sfx/splat.mp3"]),this.load.audioSprite("sfx_jab","./assets/sfx/jab.json",["assets/sfx/jab.ogg","assets/sfx/jab.mp3"]),this.load.audioSprite("sfx_test","./assets/sfx/sfx-test.json",["assets/sfx/sfx-test.ogg","assets/sfx/sfx-test.mp3"]),Object.keys(b).forEach((function(e){b[e].image?n.load.image("particle_".concat(e),b[e].image):b[e].atlas&&n.load.atlas("particle_".concat(e),"".concat(b[e].atlas,".png"),"".concat(b[e].atlas,".json"))})),m.a.preload(),f.a.preload()}function O(){var t=u.levels[e.gameData.curLevel];return u.scenes[t.sceneKey]}function k(){s=m.a.create(O()),h.a.on("interface",w,this);var t=f.a.create(u.entities,u.levels[e.gameData.curLevel],O());this.physics.add.collider(t.enemies,s.platforms,null,E,this),this.physics.add.collider(t.bowls,s.platforms),this.physics.add.overlap(t.enemies,t.bowls,A,null,this),this.physics.add.overlap(t.bowls,s.leftTrigger,_,null,this),this.physics.add.overlap(t.enemies,s.rightTrigger,S,null,this),this.physics.add.overlap(t.enemies,t.player,I,null,this),this.input.on("gameobjectdown",R),this.input.keyboard.on("keydown",T),Object.keys(b).forEach((function(e){g[e]=i.add.particles("particle_".concat(e))}))}function x(){f.a.update()}function w(t,n){e.gameInterface&&e.gameInterface(t,n)}function S(e,t){switch(e.status){case l.a.ROAMING_TAME:a.sound.playAudioSprite("sfx_test","sfxtest_trainwhistle"),Object(f.c)("tame",e.body.x,e.body.y),G("captures",1),e.captured();break;case l.a.ROAMING:a.sound.playAudioSprite("sfx_test","sfxtest_slidewhistle"),Object(f.c)("lost",e.body.x,e.body.y),G("escapes",1),e.escaped()}}function _(e,t){Object(f.c)("lost",e.body.x,e.body.y),e.destroy(),G("bowls",1),a.sound.playAudioSprite("sfx_test","sfxtest_slidewhistle")}function A(e,t){e.canEat()&&t.canBeEaten&&(e.eatAtBowl(t.body),t.eatenBy(e),a.sound.playAudioSprite("sfx_test","sfxtest_eat"))}function E(e,t){return!0}function I(e,t){e.isAlive()&&(t.checkStatus(d.a.KICK)&&t.getKickStrength()>0?function(e,t){var n=e.getKickStrength();if(t.punt){if(!t.punted){var s=n>=t.puntKillThreshold;if(t.punt(n),s)a.sound.playAudioSprite("sfx_test","sfxtest_trainwhistle"),D("blood",t.body.x,t.body.y),t.particleDeath&&D(t.particleDeath,t.body.x,t.body.y),t.kill(!0);else{var i=.3*n;a.sound.playAudioSprite("sfx_jab","jab01",{volume:i})}}}else D("blood",t.body.x,t.body.y),t.particleDeath&&D(t.particleDeath,t.body.x,t.body.y),t.kill(!0)}(t,e):e.isFull||e.checkStatus(l.a.BITING)?t.checkStatus(d.a.HUGGING)&&!e.checkStatus(l.a.HUGGING)&&(a.sound.playAudioSprite("sfx_test","sfxtest_trainwhistle"),Object(f.c)("hug",e.body.x,e.body.y,e.depth),function(e,t){t.hug(),e.onHugEnemy(),G("hugs",1)}(t,e)):(a.sound.playAudioSprite("sfx_test","sfxtest_bite"),Object(f.c)("bite",e.body.x,e.body.y,e.depth),function(e,t){t.bite(),e.onAttackedByEnemy(),G("bites",1)}(t,e)))}function R(e,t){"raccoon"===t.type&&(t.clicked(),D("blood",e.worldX,e.worldY),t.particleDeath&&D(t.particleDeath,e.worldX,e.worldY))}function D(e,t,n){var s=b[e],i=s.emitter,r=g[e].createEmitter(i);r.setPosition(t,n),r.explode(),r.visible=!0,s.sound&&(a.sound.playAudioSprite("sfx",s.sound),a.sound.playAudioSprite("sfx_test","sfxtest_bite"))}e.stopGame=function(){i&&(e.gameActive=!1,i.scene.stop())},e.startGame=function(){e.gameActive=!0,i.scene.start()},e.setLevel=function(t){e.stopGame(),e.gameData.curLevel=t,e.startGame()};var T=function(e){switch(e.code){case"Space":f.a.slingBowl()}},G=function(e,t){y[e]+=t,B(e,y[e])},B=function(e,t){h.a.emit("interface","setMetric",{key:e,value:t})},N=function(){var e,t;console.log("GAME: pauseGame"),null===(e=i)||void 0===e||null===(t=e.scene)||void 0===t||t.pause()},C=function(){var t,n;(console.log("GAME: resumeGame"),e.gameActive)&&(null===(t=i)||void 0===t||null===(n=t.scene)||void 0===n||n.resume())},P=function(){console.log("GAME: killGame"),e.gameActive&&(e.stopGame(),a.destroy(),a=null,i=null,s=null)}}).call(this,n(37))},30:function(e){e.exports=JSON.parse('{"info":{"name":"Raccoon Trapper"},"entities":{"misc":{"bowl":{"spawnSpeed":-200}},"enemies":{"LIL_BOI":{"type":"raccoon","particleDeath":"raccoon","scaleRange":[150,150],"stats":{"speed":[80,80],"jumpRate":[2,10]},"misc":{"tint":"0xffffff","puntKillThreshold":1}},"MEAN_BOI":{"type":"raccoon","particleDeath":"raccoon_mean","scaleRange":[80,120],"stats":{"speed":[100,160],"jumpRate":[2,10]},"misc":{"tint":"0xff0000","puntKillThreshold":0,"feedable":false}},"BIG_BOI":{"type":"raccoon","particleDeath":"raccoon","scaleRange":[250,350],"stats":{"speed":[30,40],"jumpRate":[2,4]},"misc":{"tint":"0xff00ff","puntKillThreshold":2}}}},"scenes":{"GRASS_01":{"img":{},"lanes":[{"x":175,"y":100,"width":500,"height":25},{"x":125,"y":225,"width":620,"height":25},{"x":85,"y":350,"width":710,"height":25},{"x":50,"y":475,"width":800,"height":25}]}},"levels":[{"sceneKey":"GRASS_01","lanes":[{"spawns":[{"type":"LIL_BOI","rate":0.1}]},{"spawns":[{"type":"LIL_BOI","rate":0.1}]},{"spawns":[{"type":"LIL_BOI","rate":0.2}]},{"spawns":[{"type":"LIL_BOI","rate":0.3}]}]},{"sceneKey":"GRASS_01","lanes":[{"spawns":[{"type":"BIG_BOI","rate":0.01}]},{"spawns":[{"type":"LIL_BOI","rate":0.05},{"type":"BIG_BOI","rate":0.01}]},{"spawns":[{"type":"MEAN_BOI","rate":0.5}]},{"spawns":[{"type":"LIL_BOI","rate":1}]}]}]}')},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(21),s=n(39),i=n.n(s),r=n(49);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var o=Object(a.b)("ui/fetchThing",function(){var e=Object(r.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u=Object(a.c)({name:"ui",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(o.pending,(function(e){e.status="loading"})).addCase(o.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),l=u.actions,d=(l.increment,l.decrement,l.incrementByAmount,u.reducer),h=n(15),f=n(14),m=n(8),p=Object(h.b)({metrics:f.a,status:m.b}),y=Object(a.a)({reducer:{ui:d,game:p}})},35:function(e,t,n){"use strict";var a=n(16),s=n(17),i=n(6),r=n(19),c=n(18),o=n(5),u=n.n(o),l=n(13),d=0,h=0,f={Entity:function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e,s,r,c,o){var u;return Object(a.a)(this,n),(u=t.call(this,e,s,r,"status")).statType=c,o||(o=l.a.zindex.FOREGROUND),u.setDepth(o+1),u.setOffsetPosition(s,r),u.playAnimationForType(),e.add.existing(Object(i.a)(u)),e.physics.add.existing(Object(i.a)(u)),u.allowGravity=!0,u.setDrag(0),u.setVelocity(0,-200),u.alpha=1,e.tweens.add({targets:Object(i.a)(u),alpha:0,duration:500,repeat:0}),u.destroyTimer=e.time.delayedCall(500,(function(){u.destroy()})),u}return Object(s.a)(n,[{key:"setOffsetPosition",value:function(e,t){this.setPosition(e+d,t+h)}},{key:"playAnimationForType",value:function(){this.anims.play("status_".concat(this.statType))}},{key:"update",value:function(){}}]),n}(u.a.Physics.Arcade.Sprite),initSprites:function(e){e.anims.create({key:"status_bite",frames:[{key:"status",frame:0}],frameRate:0,repeat:-1}),e.anims.create({key:"status_hug",frames:[{key:"status",frame:1}],frameRate:0,repeat:-1}),e.anims.create({key:"status_lost",frames:[{key:"status",frame:2}],frameRate:0,repeat:-1}),e.anims.create({key:"status_full",frames:[{key:"status",frame:3}],frameRate:0,repeat:-1}),e.anims.create({key:"status_tame",frames:[{key:"status",frame:4}],frameRate:0,repeat:-1})},initSpritesheet:function(e){e.load.spritesheet("status","./assets/sprites/status.png",{frameWidth:60,frameHeight:30})}};t.a=f},36:function(e,t,n){"use strict";var a,s=n(13),i=25,r=100,c={setContext:function(e){a=e},preload:function(){a.load.image("bg","./assets/levels/level-backyard-0.jpg"),a.load.image("lane1","./assets/levels/level-backyard-1.png"),a.load.image("lane2","./assets/levels/level-backyard-2.png"),a.load.image("lane3","./assets/levels/level-backyard-3.png"),a.load.image("fg","./assets/levels/level-backyard-4.png")},create:function(e){var t=a.physics.add.staticGroup(),n=a.physics.add.staticGroup(),c=a.physics.add.staticGroup();a.add.image(0,0,"bg").setOrigin(0).setScale(1).setDepth(s.a.zindex.BACKGROUND),a.add.image(0,0,"lane1").setOrigin(0).setScale(1).setDepth(s.a.zindex.LANE_2),a.add.image(0,0,"lane2").setOrigin(0).setScale(1).setDepth(s.a.zindex.LANE_3),a.add.image(0,0,"lane3").setOrigin(0).setScale(1).setDepth(s.a.zindex.LANE_4),a.add.image(0,0,"fg").setOrigin(0).setScale(1).setDepth(s.a.zindex.FOREGROUND);return e.lanes.forEach((function(e){var a=e.y-r,s=900-e.x;t.create(e.x,e.y,"platform-floor").setDisplaySize(s,e.height).setOrigin(0,0).setAlpha(0).refreshBody(),n.create(e.x,a,"trigger-spawn").setDisplaySize(i,r).setOrigin(0,0).setAlpha(0).refreshBody(),c.create(e.x+e.width-i,a,"trigger-end").setDisplaySize(i,r).setOrigin(0,0).setAlpha(0).refreshBody()})),{platforms:t,leftTrigger:n,rightTrigger:c}}};t.a=c},45:function(e){e.exports=JSON.parse('{"TRAPPER":{"title":"Trapper","metrics":[{"metric":"bowls","condition":">","value":5,"result":"TOO_MANY_BOWLS"},{"metric":"escapes","condition":">","value":4,"result":"TOO_MANY_ESCAPES"},{"metric":"bites","condition":">","value":0,"result":"TOO_MANY_BITES"},{"metric":"hugs","condition":">","value":2,"result":"TOO_MANY_HUGS"},{"metric":"bowls","condition":"=","value":3,"result":"EXACT_BOWLS"},{"metric":"hugs","condition":"=","value":2,"result":"EXACT_HUGS"}],"conditions":[{"when":["EXACT_BOWLS","EXACT_HUGS"],"then":"WIN","reason":"You.. won.. cause you lost the perfect amount of bowls and had the perfect amount of hugs, well done!","halt":true},{"when":["TOO_MANY_BOWLS"],"then":"LOSE","reason":"We got a lil rule around here where you can\'t lose more than 5 bowls into the woods","halt":true},{"when":["TOO_MANY_ESCAPES"],"then":"LOSE","reason":"We got a lil rule around here where you can\'t let too many unfed raccoons in your house","halt":true},{"when":["TOO_MANY_BITES"],"then":"LOSE","reason":"We got a lil rule around here where you can\'t get bit at all","halt":true},{"when":["TOO_MANY_HUGS"],"then":"WIN","reason":"You.. won.. cause you did enough huggin","halt":true}]}}')},48:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(14),s=n(33),i=function(){e.gameInterface||(e.gameInterface=function(e,t){switch(e){case"setMetric":s.a.dispatch(Object(a.g)(t));break;default:console.error("invalid interface command",e)}})}}).call(this,n(37))},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a,s=n(0),i=n.n(s),r=n(31),c=n.n(r),o=n(2),u=n(4),l=n(23),d=n(3),h=Object(d.a)(a||(a=Object(o.a)(["\n  *{\n    margin: 0;\n    padding: 0;\n    outline:0;\n    box-sizing:border-box;\n  }\n  #root{\n    margin:0 auto;\n  }\n  h1, h2, h3, h4{\n    font-family: 'Ranchers', cursive;\n  }\n  a, p, span, h5, h6{\n    font-family: 'Cabin', sans-serif;\n  }\n  h1{\n    font-size: 5rem;\n  }\n  h2{\n    font-size: 4rem;\n  }\n  h3{\n    font-size: 3.5rem;\n  }\n  h4{\n    font-size: 2.5rem;\n  }\n  h5{\n    font-size: 2rem;\n  }\n  p, span{\n    font-size:2rem;\n  }\n\n  html{\n    font-size: 62.5%;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-family: 'Cabin', sans-serif;\n    background-color: black;\n  }\n  \n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\n  }\n"]))),f=function(e){return m.colors[e]},m={colors:{black:"#000000",white:"#FFFFFF",grey:"#847E87",grey_light:"#9BADB7",grey_dark:"#222034",pink:"#D77BBA",brown:"#915539",brown_light:"#D8A065",brown_dark:"#663A31",tan:"#EEC39A",red:"#AE3232",green:"#6BBE30",green_light:"#99E54F"},shadows:{z1:"-0.1rem 0.1rem .25rem .1rem rgba(0,0,0,0.16)",z2:"-0.1rem 0.1rem .25rem .1rem rgba(0,0,0,0.36)",z3:"-.2rem .5rem 1rem .2rem rgba(0,0,0,.36)"},breakpoints:{mobile_tiny:"300px",mobile_medium:"400px",mobile_large:"500px",tablet:"768px",desktop:"1024px"}},p=n(14),y=n(8),b=n(20),g=b.c,v=n(45),j=function(e,t){return function(e,t,n){switch(e){case"=":return n===t;case"<":return n<t;case"<=":return n<=t;case">":return n>t;case">=":return n>=t;default:return!1}}(e.condition,e.value,t)},O=function(e,t){for(var n=function(n){if(!t.some((function(t){return t===e.when[n]})))return{v:null}},a=0;a<e.when.length;a++){var s=n(a);if("object"===typeof s)return s.v}return e};function k(){var e=Object(b.b)(),t=g(p.e),n=g(y.f);return Object(s.useEffect)((function(){if("playing"===n){var a=v.TRAPPER,s=(i=a.metrics,r=t,i.map((function(e){return j(e,r[e.metric])?e.result:null})).filter((function(e){return!!e})));(function(e,t){for(var n=[],a=0;a<e.length;a++){var s=O(e[a],t);if(s&&(n.push({action:s.then,reason:s.reason}),s.halt))break}return n})(a.conditions,s).forEach((function(t){switch(t.action){case"LOSE":e(Object(y.d)(t.reason));break;case"WIN":e(Object(y.h)(t.reason))}}))}var i,r}),[t,n,e]),null}var x,w,S,_=n(1),A=d.c.div(x||(x=Object(o.a)(["\n  position:relative;\n  width:100%;\n  height:100%;\n\n  overflow-y:hidden;\n"]))),E=d.c.div(w||(w=Object(o.a)(["\n  >canvas{\n    border: 1rem solid ",";\n  }\n"])),f("brown"));function I(){return Object(_.jsxs)(A,{children:[Object(_.jsx)(k,{}),Object(_.jsx)(E,{id:"game-container"})]})}var R,D,T,G,B,N,C=d.c.div(S||(S=Object(o.a)(["\n  display: inline-block;\n  padding: 2rem;\n  border: .5rem solid ",";\n  border-radius: 1rem;\n  background-color: ",";\n  width:auto;\n\n  cursor:pointer;\n  &:hover{\n    background-color: ",";\n  }\n\n  span{\n    font-size:3rem;\n    font-weight: bold;\n  }\n"])),f("brown"),f("tan"),f("brown_light"));function P(e){var t=e.onClick,n=e.text;return Object(_.jsx)(C,{onClick:t,children:Object(_.jsx)("span",{children:n})})}var K=d.c.div(R||(R=Object(o.a)(["\n  margin: 0;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  min-width: 25%;\n  min-height: 25%;\n  transform: translate(-50%, -50%);\n  padding: 4rem;\n"]))),L=d.c.div(D||(D=Object(o.a)(["\n  position:absolute;\n  top:0;\n  left:0;\n  width:100%;\n  height:100%;\n  background-color: ",";\n  border: 1rem solid ",";\n  border-radius: 5rem;\n\n  z-index:-1;\n"])),f("brown_dark"),f("brown")),M=d.c.div(T||(T=Object(o.a)(["\n"]))),U=(d.c.h1(G||(G=Object(o.a)(["\n  text-align:center;\n  font-size:8rem;\n  color: ",";\n"])),f("tan")),d.c.div(B||(B=Object(o.a)(["\n  margin-top:1rem;\n  text-align:center;\n\n\n"])))),F=d.c.div(N||(N=Object(o.a)(["\n  background: center / contain no-repeat url('./assets/logo.png');\n  width: 60rem;\n  height: 40rem;\n  margin:-2rem;\n"])));function z(){var e=Object(u.f)();return Object(_.jsxs)(K,{children:[Object(_.jsx)(M,{children:Object(_.jsx)(F,{title:"RACCOON TRAPPER"})}),Object(_.jsxs)(U,{children:[Object(_.jsx)(P,{onClick:function(t){return function(e){e("/game")}(e)},text:"NEW GAME"}),";"]}),Object(_.jsx)(L,{})]})}var H,W,Y=n(12),X=n(9),V=d.c.div(H||(H=Object(o.a)(["\n"]))),q=d.c.div(W||(W=Object(o.a)(["\n"])));var J,$,Q,Z,ee,te,ne,ae,se,ie,re,ce,oe,ue,le,de=function(){var e=g(p.b),t=Object(s.useState)(20),n=Object(Y.a)(t,2),a=n[0],i=n[1];return Object(s.useEffect)((function(){Object(X.b)(a)}),[a]),Object(_.jsxs)(V,{children:[Object(_.jsx)("p",{children:"spawn speed"}),Object(_.jsx)("input",{id:"spawn-slider",className:"slider",type:"range",min:"0",max:"100",value:a,onChange:function(e){return i(+e.target.value)}}),Object(_.jsx)("p",{children:"spawn rate: ".concat(a,"%")}),Object(_.jsxs)(q,{children:[Object(_.jsx)("span",{children:"Enemies:"}),Object(_.jsx)("span",{children:e})]})]})},he=d.c.div(J||(J=Object(o.a)(["\n  position:absolute;\n  bottom:0;\n  left:0;\n  width:100%;\n  background-color: ",";\n\n  color: ",";\n  padding: 1rem;\n  text-align:center;\n\n  >h4{\n    text-align:left;\n  }\n"])),f("brown"),f("white")),fe=d.c.div($||($=Object(o.a)(["\n  vertical-align:top;\n  text-align:right;\n  display:inline-block;\n  width:calc(50% - .5rem);\n  margin-top:1rem;\n  padding:.5rem;\n  color: ",";\n\n  ","\n  ","\n\n  h4{\n    text-align:center;\n  }\n"])),f("grey_dark"),(function(e){return"good"===e.statType&&Object(d.b)(Q||(Q=Object(o.a)(["\n    background-color:",";\n  "])),f("green"))}),(function(e){return"bad"===e.statType&&Object(d.b)(Z||(Z=Object(o.a)(["\n    background-color:",";\n    margin-left:1rem;\n  "])),f("pink"))})),me=d.c.div(ee||(ee=Object(o.a)(["\n  display:block;\n"]))),pe=d.c.div(te||(te=Object(o.a)(["\n  display:inline-block;\n  height:100%;\n  width:100%;\n  \n  span { font-size: 3rem; }\n  font-weight: bold;\n  text-align:right;\n  color: white;\n"])));function ye(){var e=g(p.d),t=g(p.c),n=g(p.f);return Object(_.jsxs)(he,{children:[Object(_.jsx)("h4",{children:"Debug and score"}),Object(_.jsxs)(fe,{statType:"good",children:[Object(_.jsx)("h4",{children:"Good Stuff"}),e.map((function(e,t){return Object(_.jsxs)(me,{children:[Object(_.jsx)("span",{children:"".concat(e.key,":")}),Object(_.jsx)("span",{children:e.value})]},t)}))]}),Object(_.jsxs)(fe,{statType:"bad",children:[Object(_.jsx)("h4",{children:"Bad Stuff"}),t.map((function(e,t){return Object(_.jsxs)(me,{children:[Object(_.jsx)("span",{children:"".concat(e.key,":")}),Object(_.jsx)("span",{children:e.value})]},t)}))]}),Object(_.jsxs)(pe,{children:[Object(_.jsx)("span",{children:"Score:"}),Object(_.jsx)("span",{children:n})]})]})}var be=d.c.div(ne||(ne=Object(o.a)(["\n  position:fixed;\n  top:0;\n  left:0;\n  transition:left .5s ease-in-out;\n\n  width:40rem;\n  height:100%;\n  margin:0;\n  color:",";\n  z-index:1;\n\n  &.collapsed{\n    left:-40rem;\n    transition:left .5s ease-in-out;\n  }\n\n  >.link-button{\n    color:white;\n    display:inline-block;\n    vertical-align:middle;\n    margin:0rem 1.8rem;\n    margin-top:1.5rem;\n    transition:color .5s ease-in;\n    color:",";\n    \n    h4{\n      font-size:2.5rem;\n    }\n    &:hover{\n      color: ",";\n      transition:color .2s ease-out;\n    }\n  }\n"])),f("tan"),f("tan"),f("green_light")),ge=d.c.div(ae||(ae=Object(o.a)(["\n  position:absolute;\n  left:0;\n  right:0;\n  top:0;\n  bottom:0;\n  z-index:-1;\n  \n  background-color: ",";\n  border-right: .5rem solid ",";\n"])),f("brown_dark"),f("brown")),ve=d.c.div(se||(se=Object(o.a)(["\n  display:flex;\n  flex-direction: column;\n  height:100%;\n"]))),je=d.c.div(ie||(ie=Object(o.a)(["\n  flex-grow:1;\n  overflow-y:auto;\n  padding:1rem;\n"]))),Oe=d.c.div(re||(re=Object(o.a)(["\n  min-height:20rem;\n  position:relative;\n  cursor:pointer;\n  border-bottom:.5rem solid ",";\n  padding:1rem;\n  padding-right:10rem;\n"])),f("brown")),ke=d.c.div(ce||(ce=Object(o.a)(["\n  background: center / contain no-repeat url('./assets/logo.gif');\n  position:absolute;\n  left:100%;\n  top:0;\n  width:30rem;\n  height:20rem;\n  z-index:1;\n\n  -webkit-filter: drop-shadow(.5rem .5rem .5rem ",");\n  filter: drop-shadow(.5rem .5rem .5rem ",");\n\n  &:hover{\n    -webkit-filter: drop-shadow(1rem 1rem 1rem ",");\n    filter: drop-shadow(1rem 1rem 1rem ",");\n  }\n"])),f("grey_dark"),f("grey_dark"),f("tan"),f("tan")),xe=Object(d.c)(l.b)(oe||(oe=Object(o.a)(["\n  color:",";\n  text-align:center;\n  font-size:2rem;\n\n  &:hover{\n    color:white;\n  }\n"])),f("tan")),we=d.c.div(ue||(ue=Object(o.a)(["\n  li{\n    font-size:1.5rem;\n    margin-left:1rem;\n  }\n"]))),Se=d.c.div(le||(le=Object(o.a)(["\nbackground: center / contain no-repeat url('./assets/raccoon-on-branch.gif');\n  position:absolute;\n  left:100%;\n  width:20rem;\n  height:50rem;\n  -webkit-filter: drop-shadow(.5rem .5rem .5rem ",");\n  filter: drop-shadow(.5rem .5rem .5rem ",");\n\n  &:hover{\n    -webkit-filter: drop-shadow(1rem 1rem 1rem ",");\n    filter: drop-shadow(1rem 1rem 1rem ",");\n  }\n  top:0;\n  margin-left:-12rem;\n"])),f("grey_dark"),f("grey_dark"),f("tan"),f("tan")),_e=function(){return Object(_.jsxs)(we,{children:[Object(_.jsx)("h4",{children:"Controls"}),Object(_.jsx)("ul",{children:["Arrow Up/Down: Change lanes","Arrow Left: Hug","Arrow Right: Charge kick","Space: Throw food"].map((function(e,t){return Object(_.jsx)("li",{children:e},t)}))}),Object(_.jsx)("h4",{children:"Rules"}),Object(_.jsx)("ul",{children:["Don't let feral raccoons in your house!",">>> 3 escapes loses the game","Feed the feral raccoons to tame them!","Give tame raccoons a nice hug to show them you care",">>> 3 hugs wins the game","Don't even think about hugging feral raccoons",">>> If you get bit once, you lose!","Kick any raccoon you want"].map((function(e,t){return Object(_.jsx)("li",{children:e},t)}))})]})};var Ae,Ee,Ie,Re,De,Te=function(){var e=Object(s.useState)(!0),t=Object(Y.a)(e,2),n=t[0],a=t[1];return Object(_.jsxs)(be,{className:n?"collapsed":"",children:[Object(_.jsxs)(ve,{children:[Object(_.jsxs)(Oe,{children:[Object(_.jsx)(ke,{onClick:function(){return a(!n)}}),Object(_.jsx)(Se,{onClick:function(){return a(!n)}}),Object(_.jsx)(_e,{}),Object(_.jsx)(xe,{to:"/",children:"back to main menu"})]}),Object(_.jsxs)(je,{children:[Object(_.jsx)("hr",{}),Object(_.jsx)(de,{}),Object(_.jsx)("hr",{}),Object(_.jsx)(ye,{})]})]}),Object(_.jsx)(ge,{})]})},Ge=n(29),Be=n(48),Ne=d.c.div(Ae||(Ae=Object(o.a)(["\n"]))),Ce=d.c.div(Ee||(Ee=Object(o.a)(["\n"]))),Pe=d.c.div(Ie||(Ie=Object(o.a)(["\n  position:absolute;\n  top:0;\n  left:0;\n  width:100%;\n  height:100%;\n  background-color: ",";\n  border: 1rem solid ",";\n  border-radius: 5rem;\n\n  z-index:-1;\n"])),f("brown_dark"),f("brown")),Ke=Object(d.c)(l.b)(Re||(Re=Object(o.a)(["\n  color:",";\n  text-align:center;\n  font-size:2rem;\n\n  &:hover{\n    color:white;\n  }\n"])),f("tan"));function Le(e){var t=e.reason;return Object(_.jsxs)(Ne,{children:[Object(_.jsxs)(Ce,{children:[Object(_.jsx)("h3",{children:"YOU WON!"}),Object(_.jsx)("p",{children:t}),Object(_.jsx)(Ke,{to:"/",children:"back to main menu"})]}),Object(_.jsx)(Pe,{})]})}function Me(e){var t=e.reason;return Object(_.jsxs)(Ne,{children:[Object(_.jsxs)(Ce,{children:[Object(_.jsx)("h3",{children:"YOU LOST!"}),Object(_.jsx)("p",{children:t}),Object(_.jsx)(Ke,{to:"/",children:"back to main menu"})]}),Object(_.jsx)(Pe,{})]})}function Ue(e){var t=e.reason;return Object(_.jsxs)(Ne,{children:[Object(_.jsxs)(Ce,{children:[Object(_.jsx)("h3",{children:"YOU PAUSED!"}),Object(_.jsx)("p",{children:t}),Object(_.jsx)(Ke,{to:"/",children:"back to main menu"})]}),Object(_.jsx)(Pe,{})]})}function Fe(e){var t=e.playStatusObj;switch(t.status){case"won":return Object(_.jsx)(Le,{reason:t.reason});case"lost":return Object(_.jsx)(Me,{reason:t.reason});case"paused":return Object(_.jsx)(Ue,{reason:t.reason})}return null}var ze=d.c.div(De||(De=Object(o.a)(["\n  margin: 0;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  min-width: 25%;\n  min-height: 25%;\n  transform: translate(-50%, -50%);\n  padding: 4rem;\n\n  z-index:1;\n"])));function He(){var e=g(y.a);return e?Object(_.jsx)(ze,{children:Object(_.jsx)(Fe,{playStatusObj:e})}):null}var We,Ye,Xe=n(50),Ve=d.c.div(We||(We=Object(o.a)(["\n  position:fixed;\n  top:0;\n  right:0;\n  z-index:1;\n"])));function qe(){var e=Object(s.useState)(!1),t=Object(Y.a)(e,2),n=t[0],a=t[1],i=Object(Xe.a)("./assets/sfx/trapper.ogg"),r=Object(Y.a)(i,2),c=r[0],o=r[1].stop;return Object(s.useEffect)((function(){n?c():o()}),[n]),Object(_.jsx)(Ve,{children:Object(_.jsx)("button",{onClick:function(){return a(!n)},children:n?"Stop background music":"Play background music"})})}var Je=d.c.div(Ye||(Ye=Object(o.a)(["\n  position:absolute;\n  left:0rem;\n  top:0rem;\n  right:0rem;\n  bottom:0rem;\n  background-color:",";\n"])),f("brown_dark")),$e=function(e){var t=e.dispatch,n=Object(u.e)();return Object(s.useEffect)((function(){n.pathname.indexOf("game")>-1?t(Object(y.g)()):t(Object(y.c)())}),[n,t]),null};var Qe=function(){var e=g(y.e),t=g(y.f),n=Object(b.b)();Object(s.useEffect)((function(){Object(Be.a)()}),[]);var a=[{route:"",text:"SPLASH",element:Object(_.jsx)(z,{})},{route:"/game",text:"RACCOON TRAPPER",element:Object(_.jsx)(I,{})}];return Object(s.useEffect)((function(){"playing"===t?Object(Ge.d)():["won","lost","paused"].some((function(e){return e===t}))&&Object(Ge.c)()}),[t]),Object(s.useEffect)((function(){"active"===e?Object(Ge.a)():Object(Ge.b)()}),[e]),Object(_.jsxs)(l.a,{children:[Object(_.jsx)($e,{dispatch:n}),Object(_.jsx)(Te,{}),Object(_.jsx)(He,{}),Object(_.jsx)(qe,{}),Object(_.jsx)(Je,{children:Object(_.jsx)(u.c,{children:a.map((function(e,t){return Object(_.jsx)(u.a,{path:e.route,element:e.element},t)}))})})]})},Ze=n(33);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(64);c.a.render(Object(_.jsx)(i.a.StrictMode,{children:Object(_.jsxs)(b.a,{store:Ze.a,children:[Object(_.jsx)(Qe,{}),Object(_.jsx)(h,{})]})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return p}));var a=n(21),s=n(26),i=n(20),r=Object(a.c)({name:"status",initialState:{gameStatus:"inactive",playStatus:"inactive",playStatusReason:""},reducers:{startGame:function(e){e.gameStatus="active",e.playStatus="playing",e.playStatusReason=""},exitGame:function(e){e.gameStatus="inactive",e.playStatus="inactive",e.playStatusReason=""},winRound:function(e,t){e.playStatus="won",e.playStatusReason=t.payload},loseRound:function(e,t){e.playStatus="lost",e.playStatusReason=t.payload}}}),c=r.actions,o=c.startGame,u=c.exitGame,l=c.winRound,d=c.loseRound,h=function(e){return e.game.status.gameStatus},f=function(e){return e.game.status.playStatus},m=Object(s.a)([h,f,function(e){return e.game.status.playStatusReason}],(function(e,t,n){return"active"===e&&["paused","lost","won"].some((function(e){return e===t}))?{status:t,reason:n}:null})),p=function(){return Object(i.c)(m)};t.b=r.reducer},9:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return _})),n.d(t,"b",(function(){return I}));var a,s,i=n(5),r=n.n(i),c=n(22),o=n(24),u=n(28),l=n(35),d=n(13),h=n(46),f=n(27),m=0,p=null,y=0,b=[],g={},v=[],j=[],O={},k={raccoon:c.b.Entity},x=function(e){var t=function(e){var t=[];return e.forEach((function(e,n){e.forEach((function(e){Math.random()<e.rate&&t.push({type:e.type,laneIdx:n})}))})),t}(e),n=0;return t.forEach((function(e){var t=v[e.type];k[t.type]?(S(k[t.type],t,e.laneIdx),n++):console.error("unknown entity type:",t.type)})),n},w=Object(h.a)(150,!1,(function(){var t,n;e.gameActive&&(E(),null===(t=O.enemies.children)||void 0===t||t.each((function(e){e.throttledUpdate()})),null===(n=O.player.children)||void 0===n||n.each((function(e){e.throttledUpdate()})))})),S=function(e,t,n){var a,i=b[n],c=(a=t.stats,{speed:r.a.Math.Between(a.speed[0],a.speed[1]),jumpRate:r.a.Math.Between(a.jumpRate[0],a.jumpRate[1])}),o=new e(s,O.enemies,{x:i.x,y:i.y,stats:c,depth:Object(d.b)(n),misc:t.misc,type:t.type,particleDeath:t.particleDeath}),u=r.a.Math.Between(t.scaleRange[0],t.scaleRange[1])/100;o.setScale(u)},_=function(e,t,n,a){new l.a.Entity(s,t,n,e,a)},A=function(e){a=new o.b.Entity(s,800,300,O.player,e)},E=function(){var e=O.enemies.countActive();m!==e&&(m=e,f.a.emit("interface","setMetric",{key:"activeEnemies",value:e}))},I=function(e){p=function(e){var t=Math.log(1e3),n=(Math.log(1)-t)/100;return Math.round(Math.exp(t+n*(e-0)))}(e)},R={setContext:function(e){s=e},preload:function(){c.b.initSpritesheet(s),o.b.initSpritesheet(s),u.a.initSpritesheet(s),l.a.initSpritesheet(s)},create:function(e,t,n){return b=n.lanes.map((function(e){return{x:parseInt(e.x),y:parseInt(e.y)-50}})),g=e.misc,v=e.enemies,j=t.lanes.map((function(e){return e.spawns})),O.enemies=s.physics.add.group(),O.bowls=s.physics.add.group(),O.player=s.physics.add.staticGroup(),o.b.initSprites(s),c.b.initSprites(s),u.a.initSprites(s),l.a.initSprites(s),A(n.lanes),O},update:function(){O.enemies.children.each((function(e){e.update()})),O.player.children.each((function(e){e.update()})),1e3!==p&&(y>p?(y=0,x(j)):y++),w()},spawn:function(e,t,n,a,s){var i=O[e].create(a,s,t);return i.anims.play(n),i},spawnBowl:function(e,t){new u.a.Entity(s,O.bowls,{x:e,y:t}).setVelocity(g.bowl.spawnSpeed,20)},slingBowl:function(){new u.a.Entity(s,O.bowls,{x:a.x+20,y:a.y+90,depth:Object(d.b)(a.laneIdx,1)}).setVelocity(g.bowl.spawnSpeed,-100)},external_setSpawnFrequency:I};t.a=R}).call(this,n(37))}},[[65,1,2]]]);
//# sourceMappingURL=main.66f0b32b.chunk.js.map